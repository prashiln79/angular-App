(self.webpackChunkExpenses=self.webpackChunkExpenses||[]).push([[286],{77125:function(Wt,Nt,M){Wt.exports=function(Q){"use strict";function ct(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var E=ct(Q),t=E.default.helpers,vt=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var c=window.screen;if(c)return(c.deviceXDPI||1)/(c.logicalXDPI||1)}return 1}(),j={toTextLines:function(e){var a,n=[];for(e=[].concat(e);e.length;)"string"==typeof(a=e.pop())?n.unshift.apply(n,a.split("\n")):Array.isArray(a)?e.push.apply(e,a):t.isNullOrUndef(e)||n.unshift(""+a);return n},toFontString:function(e){return!e||t.isNullOrUndef(e.size)||t.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,n,a){var v,i=[].concat(n),l=i.length,u=e.font,d=0;for(e.font=a.string,v=0;v<l;++v)d=Math.max(e.measureText(i[v]).width,d);return e.font=u,{height:l*a.lineHeight,width:d}},parseFont:function(e){var n=E.default.defaults.global,a=t.valueOrDefault(e.size,n.defaultFontSize),i={family:t.valueOrDefault(e.family,n.defaultFontFamily),lineHeight:t.options.toLineHeight(e.lineHeight,a),size:a,style:t.valueOrDefault(e.style,n.defaultFontStyle),weight:t.valueOrDefault(e.weight,null),string:""};return i.string=j.toFontString(i),i},bound:function(e,n,a){return Math.max(e,Math.min(n,a))},arrayDiff:function(e,n){var l,u,d,v,a=e.slice(),i=[];for(l=0,d=n.length;l<d;++l)-1===(u=a.indexOf(v=n[l]))?i.push([v,1]):a.splice(u,1);for(l=0,d=a.length;l<d;++l)i.push([a[l],-1]);return i},rasterize:function(e){return Math.round(e*vt)/vt}};function ut(c,e){var n=e.x,a=e.y;if(null===n)return{x:0,y:-1};if(null===a)return{x:1,y:0};var i=c.x-n,l=c.y-a,u=Math.sqrt(i*i+l*l);return{x:u?i/u:0,y:u?l/u:-1}}function q(c,e,n){var a=0;return c<n.left?a|=1:c>n.right&&(a|=2),e<n.top?a|=8:e>n.bottom&&(a|=4),a}function et(c,e){var i,l,n=e.anchor,a=c;return e.clamp&&(a=function(c,e){for(var v,_,T,n=c.x0,a=c.y0,i=c.x1,l=c.y1,u=q(n,a,e),d=q(i,l,e);u|d&&!(u&d);)8&(v=u||d)?(_=n+(i-n)*(e.top-a)/(l-a),T=e.top):4&v?(_=n+(i-n)*(e.bottom-a)/(l-a),T=e.bottom):2&v?(T=a+(l-a)*(e.right-n)/(i-n),_=e.right):1&v&&(T=a+(l-a)*(e.left-n)/(i-n),_=e.left),v===u?u=q(n=_,a=T,e):d=q(i=_,l=T,e);return{x0:n,x1:i,y0:a,y1:l}}(a,e.area)),"start"===n?(i=a.x0,l=a.y0):"end"===n?(i=a.x1,l=a.y1):(i=(a.x0+a.x1)/2,l=(a.y0+a.y1)/2),function(c,e,n,a,i){switch(i){case"center":n=a=0;break;case"bottom":n=0,a=1;break;case"right":n=1,a=0;break;case"left":n=-1,a=0;break;case"top":n=0,a=-1;break;case"start":n=-n,a=-a;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),a=Math.sin(i)}return{x:c,y:e,vx:n,vy:a}}(i,l,c.vx,c.vy,e.align)}var at={arc:function(e,n){var a=(e.startAngle+e.endAngle)/2,i=Math.cos(a),l=Math.sin(a),u=e.innerRadius,d=e.outerRadius;return et({x0:e.x+i*u,y0:e.y+l*u,x1:e.x+i*d,y1:e.y+l*d,vx:i,vy:l},n)},point:function(e,n){var a=ut(e,n.origin),i=a.x*e.radius,l=a.y*e.radius;return et({x0:e.x-i,y0:e.y-l,x1:e.x+i,y1:e.y+l,vx:a.x,vy:a.y},n)},rect:function(e,n){var a=ut(e,n.origin),i=e.x,l=e.y,u=0,d=0;return e.horizontal?(i=Math.min(e.x,e.base),u=Math.abs(e.base-e.x)):(l=Math.min(e.y,e.base),d=Math.abs(e.base-e.y)),et({x0:i,y0:l+d,x1:i+u,y1:l,vx:a.x,vy:a.y},n)},fallback:function(e,n){var a=ut(e,n.origin);return et({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:a.x,vy:a.y},n)}},Y=E.default.helpers,H=j.rasterize;function qt(c){var e=c._model.horizontal,n=c._scale||e&&c._xScale||c._yScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var a=n.getBasePixel();return e?{x:a,y:null}:{x:null,y:a}}function Pt(c,e,n){var a=c.shadowBlur,i=n.stroked,l=H(n.x),u=H(n.y),d=H(n.w);i&&c.strokeText(e,l,u,d),n.filled&&(a&&i&&(c.shadowBlur=0),c.fillText(e,l,u,d),a&&i&&(c.shadowBlur=a))}var bt=function(e,n,a,i){var l=this;l._config=e,l._index=i,l._model=null,l._rects=null,l._ctx=n,l._el=a};Y.extend(bt.prototype,{_modelize:function(e,n,a,i){var c,l=this,u=l._index,d=Y.options.resolve,v=j.parseFont(d([a.font,{}],i,u)),_=d([a.color,E.default.defaults.global.defaultFontColor],i,u);return{align:d([a.align,"center"],i,u),anchor:d([a.anchor,"center"],i,u),area:i.chart.chartArea,backgroundColor:d([a.backgroundColor,null],i,u),borderColor:d([a.borderColor,null],i,u),borderRadius:d([a.borderRadius,0],i,u),borderWidth:d([a.borderWidth,0],i,u),clamp:d([a.clamp,!1],i,u),clip:d([a.clip,!1],i,u),color:_,display:e,font:v,lines:n,offset:d([a.offset,0],i,u),opacity:d([a.opacity,1],i,u),origin:qt(l._el),padding:Y.options.toPadding(d([a.padding,0],i,u)),positioner:(c=l._el,c instanceof E.default.elements.Arc?at.arc:c instanceof E.default.elements.Point?at.point:c instanceof E.default.elements.Rectangle?at.rect:at.fallback),rotation:d([a.rotation,0],i,u)*(Math.PI/180),size:j.textSize(l._ctx,n,v),textAlign:d([a.textAlign,"start"],i,u),textShadowBlur:d([a.textShadowBlur,0],i,u),textShadowColor:d([a.textShadowColor,_],i,u),textStrokeColor:d([a.textStrokeColor,_],i,u),textStrokeWidth:d([a.textStrokeWidth,0],i,u)}},update:function(e){var d,v,_,n=this,a=null,i=null,l=n._index,u=n._config,T=Y.options.resolve([u.display,!0],e,l);T&&(v=Y.valueOrDefault(Y.callback(u.formatter,[d=e.dataset.data[l],e]),d),(_=Y.isNullOrUndef(v)?[]:j.toTextLines(v)).length&&(i=function(c){var e=c.borderWidth||0,n=c.padding,a=c.size.height,i=c.size.width,l=-i/2,u=-a/2;return{frame:{x:l-n.left-e,y:u-n.top-e,w:i+n.width+2*e,h:a+n.height+2*e},text:{x:l,y:u,w:i,h:a}}}(a=n._modelize(T,_,u,e)))),n._model=a,n._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,n){var d,i=e.ctx,l=this._model,u=this._rects;!this.visible()||(i.save(),l.clip&&(d=l.area,i.beginPath(),i.rect(d.left,d.top,d.right-d.left,d.bottom-d.top),i.clip()),i.globalAlpha=j.bound(0,l.opacity,1),i.translate(H(n.x),H(n.y)),i.rotate(l.rotation),function(c,e,n){var a=n.backgroundColor,i=n.borderColor,l=n.borderWidth;!a&&(!i||!l)||(c.beginPath(),Y.canvas.roundedRect(c,H(e.x)+l/2,H(e.y)+l/2,H(e.w)-l,H(e.h)-l,n.borderRadius),c.closePath(),a&&(c.fillStyle=a,c.fill()),i&&l&&(c.strokeStyle=i,c.lineWidth=l,c.lineJoin="miter",c.stroke()))}(i,u.frame,l),function(c,e,n,a){var I,i=a.textAlign,l=a.color,u=!!l,d=a.font,v=e.length,_=a.textStrokeColor,T=a.textStrokeWidth,U=_&&T;if(v&&(u||U))for(n=function(c,e,n){var a=n.lineHeight,i=c.w,l=c.x;return"center"===e?l+=i/2:("end"===e||"right"===e)&&(l+=i),{h:a,w:i,x:l,y:c.y+a/2}}(n,i,d),c.font=d.string,c.textAlign=i,c.textBaseline="middle",c.shadowBlur=a.textShadowBlur,c.shadowColor=a.textShadowColor,u&&(c.fillStyle=l),U&&(c.lineJoin="round",c.lineWidth=T,c.strokeStyle=_),I=0,v=e.length;I<v;++I)Pt(c,e[I],{stroked:U,filled:u,w:n.w,x:n.x,y:n.y+n.h*I})}(i,l.lines,u.text,l),i.restore())}});var Kt=Number.MIN_SAFE_INTEGER||-9007199254740991,W=Number.MAX_SAFE_INTEGER||9007199254740991;function X(c,e,n){var a=Math.cos(n),i=Math.sin(n),l=e.x,u=e.y;return{x:l+a*(c.x-l)-i*(c.y-u),y:u+i*(c.x-l)+a*(c.y-u)}}function Ct(c,e){var l,u,_,n=W,a=Kt,i=e.origin;for(l=0;l<c.length;++l)_=e.vx*((u=c[l]).x-i.x)+e.vy*(u.y-i.y),n=Math.min(n,_),a=Math.max(a,_);return{min:n,max:a}}function nt(c,e){var n=e.x-c.x,a=e.y-c.y,i=Math.sqrt(n*n+a*a);return{vx:(e.x-c.x)/i,vy:(e.y-c.y)/i,origin:c,ln:i}}var xt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function _t(c,e,n){var a=e.positioner(c,e),i=a.vx,l=a.vy;if(!i&&!l)return{x:a.x,y:a.y};var u=n.w,d=n.h,v=e.rotation,_=Math.abs(u/2*Math.cos(v))+Math.abs(d/2*Math.sin(v)),T=Math.abs(u/2*Math.sin(v))+Math.abs(d/2*Math.cos(v)),U=1/Math.max(Math.abs(i),Math.abs(l));return _*=i*U,T*=l*U,{x:a.x+(_+=e.offset*i),y:a.y+(T+=e.offset*l)}}E.default.helpers.extend(xt.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,n,a){this._rotation=a,this._rect={x:n.x+e.x,y:n.y+e.y,w:n.w,h:n.h}},contains:function(e){var n=this,i=n._rect;return!((e=X(e,n.center(),-n._rotation)).x<i.x-1||e.y<i.y-1||e.x>i.x+i.w+2||e.y>i.y+i.h+2)},intersects:function(e){var l,u,d,n=this._points(),a=e._points(),i=[nt(n[0],n[1]),nt(n[0],n[3])];for(this._rotation!==e._rotation&&i.push(nt(a[0],a[1]),nt(a[0],a[3])),l=0;l<i.length;++l)if(u=Ct(n,i[l]),d=Ct(a,i[l]),u.max<d.min||d.max<u.min)return!1;return!0},_points:function(){var e=this,n=e._rect,a=e._rotation,i=e.center();return[X({x:n.x,y:n.y},i,a),X({x:n.x+n.w,y:n.y},i,a),X({x:n.x+n.w,y:n.y+n.h},i,a),X({x:n.x,y:n.y+n.h},i,a)]}});var V={prepare:function(e){var a,i,l,u,d,n=[];for(a=0,l=e.length;a<l;++a)for(i=0,u=e[a].length;i<u;++i)n.push(d=e[a][i]),d.$layout={_box:new xt,_hidable:!1,_visible:!0,_set:a,_idx:i};return n.sort(function(v,_){var T=v.$layout,U=_.$layout;return T._idx===U._idx?U._set-T._set:U._idx-T._idx}),this.update(n),n},update:function(e){var a,i,l,u,d,n=!1;for(a=0,i=e.length;a<i;++a)u=(l=e[a]).model(),(d=l.$layout)._hidable=u&&"auto"===u.display,d._visible=l.visible(),n|=d._hidable;n&&function(c){var e,n,a,i,l,u;for(e=0,n=c.length;e<n;++e)(i=(a=c[e]).$layout)._visible&&(l=a.geometry(),u=_t(a._el._model,a.model(),l),i._box.update(u,l,a.rotation()));(function(c,e){var n,a,i,l;for(n=c.length-1;n>=0;--n)for(i=c[n].$layout,a=n-1;a>=0&&i._visible;--a)(l=c[a].$layout)._visible&&i._box.intersects(l._box)&&e(i,l)})(c,function(d,v){var _=d._hidable,T=v._hidable;_&&T||T?v._visible=!1:_&&(d._visible=!1)})}(e)},lookup:function(e,n){var a,i;for(a=e.length-1;a>=0;--a)if((i=e[a].$layout)&&i._visible&&i._box.contains(n))return e[a];return null},draw:function(e,n){var a,i,l,u,d,v;for(a=0,i=n.length;a<i;++a)(u=(l=n[a]).$layout)._visible&&(d=l.geometry(),v=_t(l._el._view,l.model(),d),u._box.update(v,d,l.rotation()),l.draw(e,v))}},R=E.default.helpers,G=E.default.helpers,k="$datalabels",dt="$default";function rt(c,e,n){if(e){var l,a=n.$context,i=n.$groups;!e[i._set]||(l=e[i._set][i._key])&&!0===G.callback(l,[a])&&(c[k]._dirty=!0,n.update(a))}}function K(c,e){var i,l,n=c[k],a=n._listeners;if(a.enter||a.leave){if("mousemove"===e.type)l=V.lookup(n._labels,e);else if("mouseout"!==e.type)return;i=n._hovered,n._hovered=l,function(c,e,n,a){var i,l;!n&&!a||(n?a?n!==a&&(l=i=!0):l=!0:i=!0,l&&rt(c,e.leave,n),i&&rt(c,e.enter,a))}(c,a,i,l)}}return E.default.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(R.isNullOrUndef(e))return null;var a,i,l,n=e;if(R.isObject(e))if(R.isNullOrUndef(e.label))if(R.isNullOrUndef(e.r))for(n="",l=0,i=(a=Object.keys(e)).length;l<i;++l)n+=(0!==l?", ":"")+a[l]+": "+e[a[l]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},{id:"datalabels",beforeInit:function(e){e[k]={_actives:[]}},beforeUpdate:function(e){var n=e[k];n._listened=!1,n._listeners={},n._datasets=[],n._labels=[]},afterDatasetUpdate:function(e,n,a){var I,ot,St,Mt,pt,Dt,J,z,i=n.index,l=e[k],u=l._datasets[i]=[],d=e.isDatasetVisible(i),v=e.data.datasets[i],_=function(c,e){var l,u,n=c.datalabels,a={},i=[];return!1===n?null:(!0===n&&(n={}),e=G.merge({},[e,n]),l=e.labels||{},u=Object.keys(l),delete e.labels,u.length?u.forEach(function(d){l[d]&&i.push(G.merge({},[e,l[d],{_key:d}]))}):i.push(e),a=i.reduce(function(d,v){return G.each(v.listeners||{},function(_,T){d[T]=d[T]||{},d[T][v._key||dt]=_}),delete v.listeners,d},{}),{labels:i,listeners:a})}(v,a),T=n.meta.data||[],U=e.ctx;for(U.save(),I=0,St=T.length;I<St;++I)if((J=T[I])[k]=[],d&&J&&!J.hidden&&!J._model.skip)for(ot=0,Mt=_.labels.length;ot<Mt;++ot)Dt=(pt=_.labels[ot])._key,(z=new bt(pt,U,J,I)).$groups={_set:i,_key:Dt||dt},z.$context={active:!1,chart:e,dataIndex:I,dataset:v,datasetIndex:i},z.update(z.$context),J[k].push(z),u.push(z);U.restore(),G.merge(l._listeners,_.listeners,{merger:function(st,ft,zt){ft[st]=ft[st]||{},ft[st][n.index]=zt[st],l._listened=!0}})},afterUpdate:function(e,n){e[k]._labels=V.prepare(e[k]._datasets,n)},afterDatasetsDraw:function(e){V.draw(e,e[k]._labels)},beforeEvent:function(e,n){if(e[k]._listened)switch(n.type){case"mousemove":case"mouseout":K(e,n);break;case"click":!function(c,e){var n=c[k],a=n._listeners.click,i=a&&V.lookup(n._labels,e);i&&rt(c,a,i)}(e,n)}},afterEvent:function(e){var u,d,v,_,T,U,I,n=e[k],a=n._actives,i=n._actives=e.lastActive||[],l=j.arrayDiff(a,i);for(u=0,d=l.length;u<d;++u)if((T=l[u])[1])for(v=0,_=(I=T[0][k]||[]).length;v<_;++v)(U=I[v]).$context.active=1===T[1],U.update(U.$context);(n._dirty||l.length)&&(V.update(n._labels),function(c){if(!c.animating){for(var e=E.default.animationService.animations,n=0,a=e.length;n<a;++n)if(e[n].chart===c)return;c.render({duration:1,lazy:!0})}}(e)),delete n._dirty}}}(M(72075))},21286:function(Wt,Nt,M){"use strict";M.r(Nt),M.d(Nt,{ContactsModule:function(){return ae}});var Q=M(61116),ct=M(257),E=M(70992),t=M(60091),vt=function(){function r(){}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contacts"]],decls:1,vars:0,template:function(o,f){1&o&&t._UZ(0,"router-outlet")},directives:[E.lC],encapsulation:2,changeDetection:0}),r}(),j=M(96054),ut=M(51558),x=M(51671);function yt(){return{getInitialState:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},s)}}}function gt(){return{getSelectors:function(s){var o=function(F){return F.ids},f=function(F){return F.entities},C=(0,x.P1)(o,f,function(w,F){return w.map(function(P){return F[P]})}),y=(0,x.P1)(o,function(w){return w.length});return s?{selectIds:(0,x.P1)(s,o),selectEntities:(0,x.P1)(s,f),selectAll:(0,x.P1)(s,C),selectTotal:(0,x.P1)(s,y)}:{selectIds:o,selectEntities:f,selectAll:C,selectTotal:y}}}}var b=function(r){return r[r.EntitiesOnly=0]="EntitiesOnly",r[r.Both=1]="Both",r[r.None=2]="None",r}({});function S(r){return function(o,f){var C={ids:(0,ut.Z)(f.ids),entities:Object.assign({},f.entities)},y=r(o,C);return y===b.Both?Object.assign({},f,C):y===b.EntitiesOnly?Object.assign(Object.assign({},f),{entities:C.entities}):f}}function q(r,s){var o=s(r);return(0,t.X6Q)()&&void 0===o&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",r,"The `selectId` implementation:",s.toString()),o}function mt(r){function s(Z,g){var O=q(Z,r);return O in g.entities?b.None:(g.ids.push(O),g.entities[O]=Z,b.Both)}function o(Z,g){var p,O=!1,h=(0,j.Z)(Z);try{for(h.s();!(p=h.n()).done;)O=s(p.value,g)!==b.None||O}catch(A){h.e(A)}finally{h.f()}return O?b.Both:b.None}function C(Z,g){var O=q(Z,r);return O in g.entities?(g.entities[O]=Z,b.EntitiesOnly):(g.ids.push(O),g.entities[O]=Z,b.Both)}function F(Z,g){var h=(Z instanceof Array?Z:g.ids.filter(function(p){return Z(g.entities[p])})).filter(function(p){return p in g.entities}).map(function(p){return delete g.entities[p]}).length>0;return h&&(g.ids=g.ids.filter(function(p){return p in g.entities})),h?b.Both:b.None}function Ut(Z,g){return tt([Z],g)}function tt(Z,g){var O={};return(Z=Z.filter(function(m){return m.id in g.entities})).length>0?Z.filter(function(m){return function(Z,g,O){var p=Object.assign({},O.entities[g.id],g.changes),m=q(p,r),A=m!==g.id;return A&&(Z[g.id]=m,delete O.entities[g.id]),O.entities[m]=p,A}(O,m,g)}).length>0?(g.ids=g.ids.map(function(m){return O[m]||m}),b.Both):b.EntitiesOnly:b.None}function Ft(Z,g){var m,O=[],h=[],p=(0,j.Z)(Z);try{for(p.s();!(m=p.n()).done;){var A=m.value,D=q(A,r);D in g.entities?h.push({id:D,changes:A}):O.push(A)}}catch($){p.e($)}finally{p.f()}var N=tt(h,g),B=o(O,g);switch(!0){case B===b.None&&N===b.None:return b.None;case B===b.Both||N===b.Both:return b.Both;default:return b.EntitiesOnly}}return{removeAll:function(Z){return Object.assign({},Z,{ids:[],entities:{}})},addOne:S(s),addMany:S(o),setAll:S(function(Z,g){return g.ids=[],g.entities={},o(Z,g),b.Both}),setOne:S(C),setMany:S(function(Z,g){var O=Z.map(function(h){return C(h,g)});switch(!0){case O.some(function(h){return h===b.Both}):return b.Both;case O.some(function(h){return h===b.EntitiesOnly}):return b.EntitiesOnly;default:return b.None}}),updateOne:S(Ut),updateMany:S(tt),upsertOne:S(function(Z,g){return Ft([Z],g)}),upsertMany:S(Ft),removeOne:S(function(Z,g){return F([Z],g)}),removeMany:S(F),map:S(function(Z,g){return tt(g.ids.reduce(function(p,m){var A=Z(g.entities[m]);return A!==g.entities[m]&&p.push({id:m,changes:A}),p},[]).filter(function(p){return p.id in g.entities}),g)}),mapOne:S(function(Z,g){var h=Z.id,p=g.entities[h];return p?Ut({id:h,changes:(0,Z.map)(p)},g):b.None})}}function et(r,s){var o=mt(r);function w(h,p){return F([h],p)}function F(h,p){var m=h.filter(function(A){return!(q(A,r)in p.entities)});return 0===m.length?b.None:(O(m,p),b.Both)}function Et(h,p){var m=q(h,r);return m in p.entities?(p.ids=p.ids.filter(function(A){return A!==m}),O([h],p),b.Both):w(h,p)}function tt(h,p){return lt([h],p)}function lt(h,p){var m=[],A=h.filter(function(B){return function(h,p,m){if(!(p.id in m.entities))return!1;var D=Object.assign({},m.entities[p.id],p.changes),N=q(D,r);return delete m.entities[p.id],h.push(D),N!==p.id}(m,B,p)}).length>0;if(0===m.length)return b.None;var D=p.ids,N=[];return p.ids=p.ids.filter(function(B,$){return B in p.entities||(N.push($),!1)}),O(m,p),!A&&N.every(function(B){return p.ids[B]===D[B]})?b.EntitiesOnly:b.Both}function g(h,p){var N,m=[],A=[],D=(0,j.Z)(h);try{for(D.s();!(N=D.n()).done;){var B=N.value,$=q(B,r);$ in p.entities?A.push({id:$,changes:B}):m.push(B)}}catch(Vt){D.e(Vt)}finally{D.f()}var It=lt(A,p),ht=F(m,p);switch(!0){case ht===b.None&&It===b.None:return b.None;case ht===b.Both||It===b.Both:return b.Both;default:return b.EntitiesOnly}}function O(h,p){h.sort(s);for(var m=[],A=0,D=0;A<h.length&&D<p.ids.length;){var N=h[A],B=q(N,r),$=p.ids[D];s(N,p.entities[$])<=0?(m.push(B),A++):(m.push($),D++)}p.ids=m.concat(A<h.length?h.slice(A).map(r):p.ids.slice(D)),h.forEach(function(ht,Vt){p.entities[r(ht)]=ht})}return{removeOne:o.removeOne,removeMany:o.removeMany,removeAll:o.removeAll,addOne:S(w),updateOne:S(tt),upsertOne:S(function(h,p){return g([h],p)}),setAll:S(function(h,p){return p.entities={},p.ids=[],F(h,p),b.Both}),setOne:S(Et),setMany:S(function(h,p){var m=h.map(function(A){return Et(A,p)});switch(!0){case m.some(function(A){return A===b.Both}):return b.Both;case m.some(function(A){return A===b.EntitiesOnly}):return b.EntitiesOnly;default:return b.None}}),addMany:S(F),updateMany:S(lt),upsertMany:S(g),map:S(function(h,p){return lt(p.ids.reduce(function(A,D){var N=h(p.entities[D]);return N!==p.entities[D]&&A.push({id:D,changes:N}),A},[]),p)}),mapOne:S(function(h,p){var A=h.id,D=p.entities[A];return D?tt({id:A,changes:(0,h.map)(D)},p):b.None})}}(0,x.PH)("[Contacts] Load SpreadSheet");var Bt=(0,x.PH)("[Contacts] Load",(0,x.Ky)()),qt=(0,x.PH)("[Contacts] Create",(0,x.Ky)()),jt=(0,x.PH)("[Contacts] Update",(0,x.Ky)()),Lt=(0,x.PH)("[Contacts] Remove",(0,x.Ky)()),Pt=((0,x.PH)("[Contacts] Load all success",(0,x.Ky)()),(0,x.PH)("[Contacts] Load success",(0,x.Ky)())),Ht=(0,x.PH)("[Contacts] Create success",(0,x.Ky)()),bt=(0,x.PH)("[Contacts] Update success",(0,x.Ky)()),Rt=(0,x.PH)("[Contacts] Remove success",(0,x.Ky)()),W=((0,x.PH)("[Contacts] Failure",(0,x.Ky)()),function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Object.assign({sortComparer:!1,selectId:function(P){return P.id}},r),o=s.selectId,f=s.sortComparer,C=yt(),y=gt(),w=f?et(o,f):mt(o);return Object.assign(Object.assign(Object.assign({selectId:o,sortComparer:f},C),y),w)}({selectId:function(r){return r.id},sortComparer:!1})),X=W.getInitialState({}),Ct=(0,x.Lq)(X,(0,x.on)(Pt,function(r,s){return W.upsertOne(s.contact,r)}),(0,x.on)(Ht,function(r,s){return W.addOne(s.contact,r)}),(0,x.on)(bt,function(r,s){var o=s.contact;return W.updateOne({id:o.id,changes:o},r)}),(0,x.on)(Rt,function(r,s){return W.removeOne(s.id,r)}));function xt(r,s){return(0,x.UY)({contacts:Ct})(r,s)}var _t=(0,x.ZF)("contacts"),Zt=(0,x.P1)(_t,function(r){return r.contacts}),Yt=W.getSelectors(Zt).selectAll,R=function(){function r(s){this.store=s,this.contacts$=this.store.pipe((0,x.Ys)(Yt))}return r.prototype.loadContact=function(s){this.store.dispatch(Bt({id:s}))},r.prototype.createContact=function(s){this.store.dispatch(qt({contact:s}))},r.prototype.updateContact=function(s){this.store.dispatch(jt({contact:s}))},r.prototype.deleteContact=function(s){this.store.dispatch(Lt({id:s}))},r.prototype.getContactById=function(s){return this.store.pipe((0,x.Ys)(function(r){return(0,x.P1)(Zt,function(r){return function(s){return s.entities[r]}}(r))}(s)))},r.\u0275fac=function(o){return new(o||r)(t.LFG(x.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),At=M(64762),L=M(31041),G=function(){function r(s){this.formBuilder=s,this.contact={id:void 0,name:"",email:"",phone:""},this.save=new t.vpe,this.form=this.formBuilder.group({id:[this.contact.id],name:[this.contact.name,L.kI.required],email:[this.contact.email,L.kI.required],phone:[this.contact.phone]})}return r.prototype.ngOnInit=function(){},r.prototype.ngOnChanges=function(){this.contact&&this.form.patchValue((0,At.pi)({},this.contact))},r.prototype.submit=function(){this.form.valid&&this.save.emit(this.form.value)},r.\u0275fac=function(o){return new(o||r)(t.Y36(L.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-form"]],inputs:{contact:"contact"},outputs:{save:"save"},features:[t.TTD],decls:16,vars:2,consts:[[1,"form",3,"formGroup","submit"],[1,"form-group"],["for","name-input"],["id","name-input","type","text","formControlName","name",1,"form-control"],["for","email-input"],["id","email-input","type","email","formControlName","email",1,"form-control"],["for","phone-input"],["id","phone-input","type","tel","formControlName","phone",1,"form-control"],["type","submit",1,"btn","btn-success","float-right",3,"disabled"]],template:function(o,f){1&o&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return f.submit()}),t.TgZ(1,"div",1),t.TgZ(2,"label",2),t._uU(3,"Name:"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"label",4),t._uU(7,"Email:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1),t.TgZ(10,"label",6),t._uU(11,"Phone:"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1),t.TgZ(14,"button",8),t._uU(15," Submit "),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("formGroup",f.form),t.xp6(14),t.Q6J("disabled",!f.form.valid))},directives:[L._Y,L.JL,L.sg,L.Fj,L.JJ,L.u],styles:[".form[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),k=function(){function r(s,o){this.contactsFacade=s,this.router=o}return r.prototype.ngOnInit=function(){},r.prototype.ngOnDestroy=function(){},r.prototype.submitted=function(s){this.contactsFacade.createContact(s),this.router.navigate(["/contacts"])},r.\u0275fac=function(o){return new(o||r)(t.Y36(R),t.Y36(E.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-new"]],decls:5,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"save"]],template:function(o,f){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," New Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(y){return f.submitted(y)}),t.qZA(),t.qZA(),t.qZA())},directives:[G],styles:[""],changeDetection:0}),r}(),dt=M(79996),Tt=M(44689),rt=M(23395),it=M(42693),K=M(529),Ot=function(){function r(s){this.http=s}return r.prototype.getSpreadsheet=function(){var s=new it.LE;return s=s.append("ranges","Data!A2:A50"),this.http.get(K.N.appApi.baseUrl+K.N.spreadsheetId+"/values:batchGet",{params:s})},r.\u0275fac=function(o){return new(o||r)(t.LFG(it.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),wt=function(r){function s(){return r.call(this,{url:K.N.socketConfig.url+"/contacts",options:K.N.socketConfig.opts})||this}return(0,At.ZT)(s,r),s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac=function(f){return new(f||s)}}),s}(M(36212).sk),c=function(){function r(s,o,f){this.actions$=s,this.contactsService=o,this.contactsSocket=f}return r.\u0275fac=function(o){return new(o||r)(t.LFG(rt.eX),t.LFG(Ot),t.LFG(wt))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}();function e(r,s){if(1&r){var o=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._uU(3," Contact "),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"p"),t._uU(6,"Name: "),t.TgZ(7,"span",5),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Email: "),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Phone: "),t.TgZ(15,"span",5),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"span",7),t.TgZ(19,"button",8),t.NdJ("click",function(){t.CHM(o);var y=t.oxw();return y.edit.emit(y.contact)}),t._uU(20," EDIT"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){t.CHM(o);var y=t.oxw();return y.remove.emit(y.contact)}),t._uU(22," DELETE"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){var f=t.oxw();t.xp6(8),t.Oqu(f.contact.name),t.xp6(4),t.Oqu(f.contact.email),t.xp6(4),t.Oqu(f.contact.phone)}}var n=function(){function r(){this.edit=new t.vpe,this.remove=new t.vpe}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-details-container"]],inputs:{contact:"contact"},outputs:{edit:"edit",remove:"remove"},decls:1,vars:1,consts:[["class","contact-details-container",4,"ngIf"],[1,"contact-details-container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"badge","badge-primary"],[1,"card-footer","text-muted"],[1,"float-md-right"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(o,f){1&o&&t.YNc(0,e,23,3,"div",0),2&o&&t.Q6J("ngIf",f.contact)},directives:[Q.O5],styles:[".contact-details-container[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),a=function(){function r(s,o,f,C){var y=this;this.activatedRoute=s,this.router=o,this.contactsFacade=f,this.contactsEffects=C,this.contact$=this.activatedRoute.params.pipe((0,dt.U)(function(w){return w.contactId}),(0,Tt.w)(function(w){return y.contactsFacade.getContactById(w)}))}return r.prototype.ngOnInit=function(){var s=this;this.activatedRoute.params.subscribe(function(o){s.contactsFacade.loadContact(+o.contactId)})},r.prototype.editContact=function(s){this.router.navigate(["/contacts",s.id,"edit"])},r.prototype.deleteContact=function(s){confirm("Are you sure?")&&this.contactsFacade.deleteContact(s.id)},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.\u0275fac=function(o){return new(o||r)(t.Y36(E.gz),t.Y36(E.F0),t.Y36(R),t.Y36(c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-details"]],decls:2,vars:3,consts:[[3,"contact","edit","remove"]],template:function(o,f){1&o&&(t.TgZ(0,"app-contact-details-container",0),t.NdJ("edit",function(y){return f.editContact(y)})("remove",function(y){return f.deleteContact(y)}),t.ALo(1,"async"),t.qZA()),2&o&&t.Q6J("contact",t.lcZ(1,1,f.contact$))},directives:[n],pipes:[Q.Ov],styles:[""],changeDetection:0}),r}(),i=function(){function r(s,o,f,C){var y=this;this.activatedRoute=s,this.router=o,this.contactsFacade=f,this.contactsEffects=C,this.contact$=this.activatedRoute.params.pipe((0,dt.U)(function(w){return w.contactId}),(0,Tt.w)(function(w){return y.contactsFacade.getContactById(w)}))}return r.prototype.ngOnInit=function(){var s=this;this.activatedRoute.params.subscribe(function(o){s.contactsFacade.loadContact(+o.contactId)})},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.prototype.submitted=function(s){this.contactsFacade.updateContact(s)},r.\u0275fac=function(o){return new(o||r)(t.Y36(E.gz),t.Y36(E.F0),t.Y36(R),t.Y36(c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-edit"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"contact","save"]],template:function(o,f){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," Edit Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(y){return f.submitted(y)}),t.ALo(5,"async"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("contact",t.lcZ(5,1,f.contact$)))},directives:[G],pipes:[Q.Ov],styles:[""],changeDetection:0}),r}(),l=M(40878),u=M(10534),d=function(){function r(s){this.store=s}return r.prototype.resolve=function(s,o){return this.store.dispatch((0,u.u)({payload:s.data.title})),(0,l.of)(s.data.title)},r.\u0275fac=function(o){return new(o||r)(t.LFG(x.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),v=M(77125),_=function(){function r(s){this.http=s}return r.prototype.getSpreadsheet=function(s){var o=new it.LE;return s.forEach(function(f){o=o.append("ranges",f)}),this.http.get(K.N.appApi.baseUrl+K.N.spreadsheetId+"/values:batchGet",{params:o})},r.\u0275fac=function(o){return new(o||r)(t.LFG(it.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),T=M(50111),U=M(84369),I=M(77307);function ot(r,s){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"h6",4),t._uU(3,"Year Spending :"),t.qZA(),t.TgZ(4,"h5",5),t._uU(5),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"div"),t.TgZ(8,"div",6),t._UZ(9,"canvas",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var o=t.oxw();t.xp6(5),t.Oqu(o.spreadSheetDataObj.totalCost),t.xp6(4),t.Q6J("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function St(r,s){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"h6",4),t._uU(3,"Current Month Spending :"),t.qZA(),t.TgZ(4,"h5",5),t._uU(5),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"div"),t.TgZ(8,"div",6),t._UZ(9,"canvas",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var o=t.oxw();t.xp6(5),t.Oqu(o.spreadSheetDataObj.currentMonthTotalSpending),t.xp6(4),t.Q6J("data",o.polarAreaChartData)("labels",o.polarAreaChartLabels)("legend",o.polarAreaLegend)("chartType",o.polarAreaChartType)}}function Mt(r,s){if(1&r&&(t.TgZ(0,"h5",5),t._uU(1),t.qZA()),2&r){var o=t.oxw(2);t.xp6(1),t.Oqu(o.spreadSheetDataObj.totalUtilityCost)}}function pt(r,s){if(1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",15),t._UZ(2,"canvas",16),t.qZA(),t.qZA()),2&r){var o=t.oxw(2);t.xp6(2),t.Q6J("data",o.pieChartData)("labels",o.pieChartLabels)("chartType",o.pieChartType)("options",o.pieChartOptions)("plugins",o.pieChartPlugins)("colors",o.pieChartColors)("legend",o.pieChartLegend)}}function Dt(r,s){if(1&r&&(t.TgZ(0,"div",17),t.TgZ(1,"h6",4),t._uU(2,"Electricity :"),t.qZA(),t.TgZ(3,"h5",5),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div"),t.TgZ(7,"div",6),t._UZ(8,"canvas",7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var o=t.oxw(2);t.xp6(4),t.hij("\u20b9",o.spreadSheetDataObj.electricityTotalAmount,""),t.xp6(4),t.Q6J("datasets",o.electricitybarChartData)("labels",o.electricityChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function J(r,s){if(1&r&&(t.TgZ(0,"div",17),t.TgZ(1,"h6",4),t._uU(2,"Water :"),t.qZA(),t.TgZ(3,"h5",5),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div"),t.TgZ(7,"div",6),t._UZ(8,"canvas",7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var o=t.oxw(2);t.xp6(4),t.hij("\u20b9",o.spreadSheetDataObj.waterTotalAmount,""),t.xp6(4),t.Q6J("datasets",o.waterbarChartData)("labels",o.waterChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function z(r,s){if(1&r&&(t.TgZ(0,"div",18),t.TgZ(1,"h6",4),t._uU(2,"BoardBand :"),t.qZA(),t.TgZ(3,"h5",5),t._uU(4),t._UZ(5,"br"),t.TgZ(6,"h6"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"div",19),t._UZ(13,"div",20),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var o=t.oxw(2);t.xp6(4),t.hij("\u20b9",o.boardBandData.amount," "),t.xp6(4),t.Oqu(o.boardBandData.startDate),t.xp6(2),t.Oqu(o.boardBandData.endDate),t.xp6(3),t.Udp("width",o.boardBandData.percentage)}}function Xt(r,s){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"expand_more"),t.qZA())}function st(r,s){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"clear"),t.qZA())}function ft(r,s){if(1&r){var o=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"h6",4),t._uU(3,"Utility Spending : "),t.qZA(),t.YNc(4,Mt,2,1,"h5",9),t.YNc(5,pt,3,7,"div",10),t.YNc(6,Dt,9,7,"div",11),t.YNc(7,J,9,7,"div",11),t.YNc(8,z,14,5,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().expnadUtility()}),t.YNc(11,Xt,2,0,"mat-icon",10),t.YNc(12,st,2,0,"mat-icon",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){var f=t.oxw();t.xp6(4),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(3),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility)}}var te=[{path:"",component:vt,children:[{path:"",component:function(){function r(s,o,f,C){this.contactsFacade=s,this.router=o,this.spreadSheetService=f,this.changeDetection=C,this.barChartOptions={responsive:!0,scales:{xAxes:[{}],yAxes:[{}]},plugins:{datalabels:{anchor:"end",align:"end"}}},this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[v],this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.doughnutChartData=[[350,450,100],[50,150,120],[250,130,70]],this.doughnutChartType="doughnut",this.contacts$=this.contactsFacade.contacts$,this.spreadSheetDataObj={},this.expandUtility=!1,this.month=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.boardBandData={startDate:"",endDate:"",percentage:"0%",amount:0},this.barChartLabels=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.barChartData=[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Expenses"}],this.polarAreaChartLabels=[],this.polarAreaChartData=[],this.polarAreaLegend=!0,this.polarAreaChartType="polarArea",this.pieChartOptions={responsive:!0,legend:{position:"top"},plugins:{datalabels:{formatter:function(y,w){return w.chart.data.labels[w.dataIndex]}}}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[v],this.pieChartColors=[{backgroundColor:["rgba(255,161,181,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}],this.electricityChartLabels=[],this.electricitybarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}],this.waterChartLabels=[],this.waterbarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}]}return r.prototype.ngOnInit=function(){var s=this;this.spreadSheetService.getSpreadsheet(["Current!H1","Current!A2:E","Utility!A2:F","Utility!H2:H2","Expenses!F2:F2","Electricity!A2:F","Expenses!A2:E","Water!A2:F"]).subscribe(function(o){s.spreadSheetDataObj.currentMonthTotalSpending=o.valueRanges[0].values[0][0],s.spreadSheetDataObj.currentMonthSpendingList=o.valueRanges[1].values,s.spreadSheetDataObj.totalUtilityList=o.valueRanges[2].values,s.spreadSheetDataObj.totalUtilityCost=o.valueRanges[3].values[0][0],s.spreadSheetDataObj.totalCost=o.valueRanges[4].values[0][0],s.spreadSheetDataObj.electricityList=o.valueRanges[5].values.reverse(),s.spreadSheetDataObj.fullYearExpensesList=o.valueRanges[6].values.reverse(),s.spreadSheetDataObj.waterList=o.valueRanges[7].values,s.buildPolarChartData(s.spreadSheetDataObj.currentMonthSpendingList),s.buildPieChartData(s.spreadSheetDataObj.totalUtilityList),s.buildFullyearExpensesChart(s.spreadSheetDataObj.fullYearExpensesList)})},r.prototype.buildFullyearExpensesChart=function(s){var o=[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Expenses"}];s.forEach(function(f){var C=parseInt(f[0].split("-")[1])-1,y=parseFloat(f[4].replace("\u20b9","").replace(/,/g,""));o[0].data[C]+=y}),this.barChartData=o,this.changeDetection.detectChanges()},r.prototype.buildBroadbandBar=function(s){this.boardBandData.startDate=s[0].split("-")[2]+"-"+this.month[parseInt(s[0].split("-")[1])]+"-"+s[0].split("-")[0],this.boardBandData.endDate=s[1].split("-")[2]+"-"+this.month[parseInt(s[1].split("-")[1])]+"-"+s[1].split("-")[0];var o=Math.ceil(Math.abs(new Date(s[0])-new Date(s[1]))/864e5),f=Math.ceil(Math.abs(new Date(s[1])-new Date)/864e5);this.boardBandData.percentage=100-Math.round(f/o*100)+"%",this.boardBandData.amount=s[4]},r.prototype.buildPolarChartData=function(s){var o={};s.forEach(function(f){var C=f[3],y=parseFloat(f[4].replace("\u20b9","").replace(/,/g,""));o[C]=o[C]?o[C]+y:y}),this.polarAreaChartLabels=Object.keys(o),this.polarAreaChartData=Object.values(o),this.changeDetection.detectChanges()},r.prototype.buildPieChartData=function(s){var o=this,f={};s.forEach(function(C){var y=C[3],w=parseFloat(C[4].replace("\u20b9","").replace(/,/g,""));f[y]=f[y]?f[y]+w:w,"Boardband"==y&&new Date<new Date(C[1])&&o.buildBroadbandBar(C)}),this.pieChartLabels=Object.keys(f),this.pieChartData=Object.values(f),this.changeDetection.detectChanges()},r.prototype.expnadUtility=function(){this.expandUtility=!this.expandUtility,this.buildElectricityChart(this.spreadSheetDataObj.electricityList),this.buildWaterChart(this.spreadSheetDataObj.waterList)},r.prototype.buildElectricityChart=function(s){var o=this;this.electricityChartLabels=[],this.electricitybarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}];var C=0;s.forEach(function(y){var w=parseFloat(y[4].replace("\u20b9","").replace(/,/g,""));C+=w;var F=parseFloat(y[5].replace(/,/g,"")),P=y[0].split("-")[2]+"/"+o.month[parseInt(y[0].split("-")[1])]+" - "+y[1].split("-")[2]+"/"+o.month[parseInt(y[1].split("-")[1])]||"error";o.electricityChartLabels.push(P),o.electricitybarChartData[0].data.push(w),o.electricitybarChartData[1].data.push(F)}),this.spreadSheetDataObj.electricityTotalAmount=C,this.changeDetection.detectChanges()},r.prototype.buildWaterChart=function(s){var o=this;this.waterChartLabels=[],this.waterbarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}];var C=0;s.forEach(function(y){var w=parseFloat(y[4].replace("\u20b9","").replace(/,/g,""));C+=w;var F=parseFloat(y[5].replace(/,/g,"")),P=y[0].split("-")[2]+"/"+o.month[parseInt(y[0].split("-")[1])]+" - "+y[1].split("-")[2]+"/"+o.month[parseInt(y[1].split("-")[1])]||"error";o.waterChartLabels.push(P),o.waterbarChartData[0].data.push(w),o.waterbarChartData[1].data.push(F)}),this.spreadSheetDataObj.waterTotalAmount=C,this.changeDetection.detectChanges()},r.prototype.editContact=function(s){this.router.navigate(["/contacts",s.id,"edit"])},r.prototype.showContact=function(s){this.router.navigate(["/contacts",s.id])},r.prototype.deleteContact=function(s){confirm("Are you sure?")&&this.contactsFacade.deleteContact(s.id)},r.\u0275fac=function(o){return new(o||r)(t.Y36(R),t.Y36(E.F0),t.Y36(_),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:4,vars:3,consts:[["class","card text-center",4,"ngIf"],[2,"height","1px"],[1,"card","text-center"],[1,"card-body"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-title"],[2,"display","block"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["baseChart","",3,"data","labels","legend","chartType"],["class","card-title",4,"ngIf"],[4,"ngIf"],["class","card text-center utility",4,"ngIf"],["class","card text-center utility boardband",4,"ngIf"],[1,"utility-button"],["mat-mini-fab","","color","basic","aria-label","Example icon button with a menu icon",3,"click"],[1,"chart"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"card","text-center","utility"],[1,"card","text-center","utility","boardband"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"]],template:function(o,f){1&o&&(t.YNc(0,ot,10,7,"div",0),t.YNc(1,St,10,5,"div",0),t.YNc(2,ft,13,7,"div",0),t._UZ(3,"div",1)),2&o&&(t.Q6J("ngIf",f.spreadSheetDataObj.totalCost),t.xp6(1),t.Q6J("ngIf",f.spreadSheetDataObj.currentMonthTotalSpending),t.xp6(1),t.Q6J("ngIf",f.spreadSheetDataObj.totalUtilityCost))},directives:[Q.O5,T.jh,U.lW,I.Hw],styles:[".card-title[_ngcontent-%COMP%]{margin:.5em 0;font-size:200%;color:#119fd6}.card-subtitle[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{text-align:left;text-align:initial;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem;color:#7a7a7a}.card[_ngcontent-%COMP%]{margin-bottom:30px}.utility-button[_ngcontent-%COMP%]{right:8px;top:8px;position:absolute}.utility[_ngcontent-%COMP%]{margin-top:30px}.utility[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding:10px;color:#417f98!important;font-weight:500}.boardband[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#417f98!important;font-size:small;display:flex;justify-content:space-between;padding:12px 10px 0;margin:0 2px -8px}.boardband[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin:10px}.boardband[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#417f98!important}"]}),r}(),data:{title:"Home"},resolve:{title:d}},{path:"new",component:k,data:{title:"New contact"},resolve:{title:d}},{path:":contactId",component:a,data:{title:"Contact details"},resolve:{title:d}},{path:":contactId/edit",component:i,data:{title:"Edit contact"},resolve:{title:d}}]}],ee=function(){function r(){}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[E.Bz.forChild(te)],E.Bz]}),r}(),ae=function(){function r(){}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Ot,wt,R,_],imports:[[Q.ez,ct.m,ee,x.Aw.forFeature("contacts",xt),rt.sQ.forFeature([c]),T.m9]]}),r}()}}]);