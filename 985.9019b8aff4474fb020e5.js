"use strict";(self.webpackChunkExpenses=self.webpackChunkExpenses||[]).push([[985],{5985:function(zt,W,C){C.r(W),C.d(W,{ContactsModule:function(){return Qt}});var I=C(1116),vt=C(1039),O=C(9425),t=C(91),mt=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contacts"]],decls:1,vars:0,template:function(o,r){1&o&&t._UZ(0,"router-outlet")},directives:[O.lC],encapsulation:2,changeDetection:0}),n}(),R=C(6054),ht=C(1558),l=C(2294);function yt(){return{getInitialState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},e)}}}function gt(){return{getSelectors:function(e){var o=function(Z){return Z.ids},r=function(Z){return Z.entities},d=(0,l.P1)(o,r,function(m,Z){return m.map(function(w){return Z[w]})}),c=(0,l.P1)(o,function(m){return m.length});return e?{selectIds:(0,l.P1)(e,o),selectEntities:(0,l.P1)(e,r),selectAll:(0,l.P1)(e,d),selectTotal:(0,l.P1)(e,c)}:{selectIds:o,selectEntities:r,selectAll:d,selectTotal:c}}}}var p=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}({});function y(n){return function(o,r){var d={ids:(0,ht.Z)(r.ids),entities:Object.assign({},r.entities)},c=n(o,d);return c===p.Both?Object.assign({},r,d):c===p.EntitiesOnly?Object.assign(Object.assign({},r),{entities:d.entities}):r}}function _(n,e){var o=e(n);return(0,t.X6Q)()&&void 0===o&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),o}function tt(n){function e(f,s){var h=_(f,n);return h in s.entities?p.None:(s.ids.push(h),s.entities[h]=f,p.Both)}function o(f,s){var i,h=!1,a=(0,R.Z)(f);try{for(a.s();!(i=a.n()).done;)h=e(i.value,s)!==p.None||h}catch(v){a.e(v)}finally{a.f()}return h?p.Both:p.None}function d(f,s){var h=_(f,n);return h in s.entities?(s.entities[h]=f,p.EntitiesOnly):(s.ids.push(h),s.entities[h]=f,p.Both)}function Z(f,s){var a=(f instanceof Array?f:s.ids.filter(function(i){return f(s.entities[i])})).filter(function(i){return i in s.entities}).map(function(i){return delete s.entities[i]}).length>0;return a&&(s.ids=s.ids.filter(function(i){return i in s.entities})),a?p.Both:p.None}function k(f,s){return N([f],s)}function N(f,s){var h={};return(f=f.filter(function(u){return u.id in s.entities})).length>0?f.filter(function(u){return function(f,s,h){var i=Object.assign({},h.entities[s.id],s.changes),u=_(i,n),v=u!==s.id;return v&&(f[s.id]=u,delete h.entities[s.id]),h.entities[u]=i,v}(h,u,s)}).length>0?(s.ids=s.ids.map(function(u){return h[u]||u}),p.Both):p.EntitiesOnly:p.None}function J(f,s){var u,h=[],a=[],i=(0,R.Z)(f);try{for(i.s();!(u=i.n()).done;){var v=u.value,g=_(v,n);g in s.entities?a.push({id:g,changes:v}):h.push(v)}}catch(F){i.e(F)}finally{i.f()}var T=N(a,s),A=o(h,s);switch(!0){case A===p.None&&T===p.None:return p.None;case A===p.Both||T===p.Both:return p.Both;default:return p.EntitiesOnly}}return{removeAll:function(f){return Object.assign({},f,{ids:[],entities:{}})},addOne:y(e),addMany:y(o),setAll:y(function(f,s){return s.ids=[],s.entities={},o(f,s),p.Both}),setOne:y(d),setMany:y(function(f,s){var h=f.map(function(a){return d(a,s)});switch(!0){case h.some(function(a){return a===p.Both}):return p.Both;case h.some(function(a){return a===p.EntitiesOnly}):return p.EntitiesOnly;default:return p.None}}),updateOne:y(k),updateMany:y(N),upsertOne:y(function(f,s){return J([f],s)}),upsertMany:y(J),removeOne:y(function(f,s){return Z([f],s)}),removeMany:y(Z),map:y(function(f,s){return N(s.ids.reduce(function(i,u){var v=f(s.entities[u]);return v!==s.entities[u]&&i.push({id:u,changes:v}),i},[]).filter(function(i){return i.id in s.entities}),s)}),mapOne:y(function(f,s){var a=f.id,i=s.entities[a];return i?k({id:a,changes:(0,f.map)(i)},s):p.None})}}function Zt(n,e){var o=tt(n);function m(a,i){return Z([a],i)}function Z(a,i){var u=a.filter(function(v){return!(_(v,n)in i.entities)});return 0===u.length?p.None:(h(u,i),p.Both)}function Y(a,i){var u=_(a,n);return u in i.entities?(i.ids=i.ids.filter(function(v){return v!==u}),h([a],i),p.Both):m(a,i)}function N(a,i){return B([a],i)}function B(a,i){var u=[],v=a.filter(function(A){return function(a,i,u){if(!(i.id in u.entities))return!1;var g=Object.assign({},u.entities[i.id],i.changes),T=_(g,n);return delete u.entities[i.id],a.push(g),T!==i.id}(u,A,i)}).length>0;if(0===u.length)return p.None;var g=i.ids,T=[];return i.ids=i.ids.filter(function(A,F){return A in i.entities||(T.push(F),!1)}),h(u,i),!v&&T.every(function(A){return i.ids[A]===g[A]})?p.EntitiesOnly:p.Both}function s(a,i){var T,u=[],v=[],g=(0,R.Z)(a);try{for(g.s();!(T=g.n()).done;){var A=T.value,F=_(A,n);F in i.entities?v.push({id:F,changes:A}):u.push(A)}}catch(ft){g.e(ft)}finally{g.f()}var j=B(v,i),$=Z(u,i);switch(!0){case $===p.None&&j===p.None:return p.None;case $===p.Both||j===p.Both:return p.Both;default:return p.EntitiesOnly}}function h(a,i){a.sort(e);for(var u=[],v=0,g=0;v<a.length&&g<i.ids.length;){var T=a[v],A=_(T,n),F=i.ids[g];e(T,i.entities[F])<=0?(u.push(A),v++):(u.push(F),g++)}i.ids=u.concat(v<a.length?a.slice(v).map(n):i.ids.slice(g)),a.forEach(function($,ft){i.entities[n($)]=$})}return{removeOne:o.removeOne,removeMany:o.removeMany,removeAll:o.removeAll,addOne:y(m),updateOne:y(N),upsertOne:y(function(a,i){return s([a],i)}),setAll:y(function(a,i){return i.entities={},i.ids=[],Z(a,i),p.Both}),setOne:y(Y),setMany:y(function(a,i){var u=a.map(function(v){return Y(v,i)});switch(!0){case u.some(function(v){return v===p.Both}):return p.Both;case u.some(function(v){return v===p.EntitiesOnly}):return p.EntitiesOnly;default:return p.None}}),addMany:y(Z),updateMany:y(B),upsertMany:y(s),map:y(function(a,i){return B(i.ids.reduce(function(v,g){var T=a(i.entities[g]);return T!==i.entities[g]&&v.push({id:g,changes:T}),v},[]),i)}),mapOne:y(function(a,i){var v=a.id,g=i.entities[v];return g?N({id:v,changes:(0,a.map)(g)},i):p.None})}}var nt=(0,l.PH)("[Contacts] Load all"),et=(0,l.PH)("[Contacts] Load",(0,l.Ky)()),ot=(0,l.PH)("[Contacts] Create",(0,l.Ky)()),it=(0,l.PH)("[Contacts] Update",(0,l.Ky)()),at=(0,l.PH)("[Contacts] Remove",(0,l.Ky)()),bt=(0,l.PH)("[Contacts] Load all success",(0,l.Ky)()),rt=(0,l.PH)("[Contacts] Load success",(0,l.Ky)()),H=(0,l.PH)("[Contacts] Create success",(0,l.Ky)()),K=(0,l.PH)("[Contacts] Update success",(0,l.Ky)()),G=(0,l.PH)("[Contacts] Remove success",(0,l.Ky)()),At=(0,l.PH)("[Contacts] Failure",(0,l.Ky)()),S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({sortComparer:!1,selectId:function(w){return w.id}},n),o=e.selectId,r=e.sortComparer,d=yt(),c=gt(),m=r?Zt(o,r):tt(o);return Object.assign(Object.assign(Object.assign({selectId:o,sortComparer:r},d),c),m)}({selectId:function(n){return n.id},sortComparer:!1}),Et=S.getInitialState({}),Ot=(0,l.Lq)(Et,(0,l.on)(rt,function(n,e){return S.upsertOne(e.contact,n)}),(0,l.on)(H,function(n,e){return S.addOne(e.contact,n)}),(0,l.on)(K,function(n,e){var o=e.contact;return S.updateOne({id:o.id,changes:o},n)}),(0,l.on)(G,function(n,e){return S.removeOne(e.id,n)}));function Mt(n,e){return(0,l.UY)({contacts:Ot})(n,e)}var Ft=(0,l.ZF)("contacts"),ct=(0,l.P1)(Ft,function(n){return n.contacts}),It=S.getSelectors(ct).selectAll,q=function(){function n(e){this.store=e,this.contacts$=this.store.pipe((0,l.Ys)(It))}return n.prototype.loadContact=function(e){this.store.dispatch(et({id:e}))},n.prototype.createContact=function(e){this.store.dispatch(ot({contact:e}))},n.prototype.updateContact=function(e){this.store.dispatch(it({contact:e}))},n.prototype.deleteContact=function(e){this.store.dispatch(at({id:e}))},n.prototype.getContactById=function(e){return this.store.pipe((0,l.Ys)(function(n){return(0,l.P1)(ct,function(n){return function(e){return e.entities[n]}}(n))}(e)))},n.\u0275fac=function(o){return new(o||n)(t.LFG(l.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n}(),L=C(4762),M=C(1462),st=function(){function n(e){this.formBuilder=e,this.contact={id:void 0,name:"",email:"",phone:""},this.save=new t.vpe,this.form=this.formBuilder.group({id:[this.contact.id],name:[this.contact.name,M.kI.required],email:[this.contact.email,M.kI.required],phone:[this.contact.phone]})}return n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.contact&&this.form.patchValue((0,L.pi)({},this.contact))},n.prototype.submit=function(){this.form.valid&&this.save.emit(this.form.value)},n.\u0275fac=function(o){return new(o||n)(t.Y36(M.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-form"]],inputs:{contact:"contact"},outputs:{save:"save"},features:[t.TTD],decls:16,vars:2,consts:[[1,"form",3,"formGroup","submit"],[1,"form-group"],["for","name-input"],["id","name-input","type","text","formControlName","name",1,"form-control"],["for","email-input"],["id","email-input","type","email","formControlName","email",1,"form-control"],["for","phone-input"],["id","phone-input","type","tel","formControlName","phone",1,"form-control"],["type","submit",1,"btn","btn-success","float-right",3,"disabled"]],template:function(o,r){1&o&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return r.submit()}),t.TgZ(1,"div",1),t.TgZ(2,"label",2),t._uU(3,"Name:"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"label",4),t._uU(7,"Email:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1),t.TgZ(10,"label",6),t._uU(11,"Phone:"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1),t.TgZ(14,"button",8),t._uU(15," Submit "),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("formGroup",r.form),t.xp6(14),t.Q6J("disabled",!r.form.valid))},directives:[M._Y,M.JL,M.sg,M.Fj,M.JJ,M.u],styles:[".form[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),n}(),wt=function(){function n(e,o){this.contactsFacade=e,this.router=o}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){},n.prototype.submitted=function(e){this.contactsFacade.createContact(e),this.router.navigate(["/contacts"])},n.\u0275fac=function(o){return new(o||n)(t.Y36(q),t.Y36(O.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-new"]],decls:5,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"save"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," New Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(c){return r.submitted(c)}),t.qZA(),t.qZA(),t.qZA())},directives:[st],styles:[""],changeDetection:0}),n}();function Nt(n,e){if(1&n){var o=t.EpF();t.TgZ(0,"tr",5),t.TgZ(1,"th",6),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"span",7),t.TgZ(11,"button",8),t.NdJ("click",function(){var m=t.CHM(o).$implicit;return t.oxw(2).showDetails(m)}),t._uU(12," DETAILS "),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){var m=t.CHM(o).$implicit;return t.oxw(2).editContact(m)}),t._uU(14," EDIT "),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){var m=t.CHM(o).$implicit;return t.oxw(2).deleteContact(m)}),t._uU(16," DELETE "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){var r=e.$implicit;t.xp6(2),t.Oqu(r.id),t.xp6(2),t.Oqu(r.name),t.xp6(2),t.Oqu(r.email),t.xp6(2),t.Oqu(r.phone)}}function St(n,e){if(1&n&&(t.TgZ(0,"table",2),t.TgZ(1,"thead",3),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Email"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Phone"),t.qZA(),t._UZ(11,"th"),t.qZA(),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,Nt,17,4,"tr",4),t.qZA(),t.qZA()),2&n){var o=t.oxw();t.xp6(13),t.Q6J("ngForOf",o.contacts)("ngForTrackBy",o.contactsTrackByFn)}}function Dt(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"loading contacts..."),t.qZA())}var Bt=function(){function n(){this.edit=new t.vpe,this.show=new t.vpe,this.remove=new t.vpe,this.contactsTrackByFn=function(e,o){return o.id}}return n.prototype.ngOnInit=function(){},n.prototype.showDetails=function(e){this.show.emit(e)},n.prototype.editContact=function(e){this.edit.emit(e)},n.prototype.deleteContact=function(e){this.remove.emit(e)},n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-list"]],inputs:{contacts:"contacts"},outputs:{edit:"edit",show:"show",remove:"remove"},decls:3,vars:2,consts:[["class","table table-hover table-responsive-md",4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-hover","table-responsive-md"],[1,"header"],["class","contact-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"contact-row"],["scope","row"],[1,"float-right"],[1,"btn","btn-outline-primary","mb-1","btn-sm",3,"click"],[1,"btn","btn-outline-danger","mb-1","btn-sm",3,"click"]],template:function(o,r){if(1&o&&(t.YNc(0,St,14,2,"table",0),t.YNc(1,Dt,2,0,"ng-template",null,1,t.W1O)),2&o){var d=t.MAs(2);t.Q6J("ngIf",r.contacts)("ngIfElse",d)}},directives:[I.O5,I.sg],styles:[".contact-row[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}.header[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n}(),qt=function(){function n(e,o){this.contactsFacade=e,this.router=o,this.contacts$=this.contactsFacade.contacts$}return n.prototype.ngOnInit=function(){},n.prototype.editContact=function(e){this.router.navigate(["/contacts",e.id,"edit"])},n.prototype.showContact=function(e){this.router.navigate(["/contacts",e.id])},n.prototype.deleteContact=function(e){confirm("Are you sure?")&&this.contactsFacade.deleteContact(e.id)},n.\u0275fac=function(o){return new(o||n)(t.Y36(q),t.Y36(O.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contacts-index"]],decls:4,vars:3,consts:[[3,"contacts","show","remove","edit"]],template:function(o,r){1&o&&(t.TgZ(0,"h1"),t._uU(1," list"),t.qZA(),t.TgZ(2,"app-contact-list",0),t.NdJ("show",function(c){return r.showContact(c)})("remove",function(c){return r.deleteContact(c)})("edit",function(c){return r.editContact(c)}),t.ALo(3,"async"),t.qZA()),2&o&&(t.xp6(2),t.Q6J("contacts",t.lcZ(3,1,r.contacts$)))},directives:[Bt],pipes:[I.Ov],styles:[""],changeDetection:0}),n}(),E=C(9996),D=C(4689),ut=C(3835),pt=C(878),Lt=C(6238),x=C(3588),xt=C(7727),$t=C(4981),b=C(1368),U=C(529),Pt=C(2693),dt=function(){function n(e){this.http=e}return n.prototype.index=function(){return this.http.get(U.N.appApi.baseUrl+"/contacts")},n.prototype.show=function(e){return this.http.get(U.N.appApi.baseUrl+"/contacts/"+e)},n.prototype.create=function(e){return this.http.post(U.N.appApi.baseUrl+"/contacts",e)},n.prototype.update=function(e){return this.http.patch(U.N.appApi.baseUrl+"/contacts/"+e.id,e)},n.prototype.destroy=function(e){return this.http.delete(U.N.appApi.baseUrl+"/contacts/"+e)},n.\u0275fac=function(o){return new(o||n)(t.LFG(Pt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n}(),Yt=C(6212),Q=function(n){return n.LIVE_CREATED="[Contacts] LIVE CREATED",n.LIVE_UPDATED="[Contacts] LIVE UPDATED",n.LIVE_DELETED="[Contacts] LIVE DELETED",n}({}),lt=function(n){function e(){var o=n.call(this,{url:U.N.socketConfig.url+"/contacts",options:U.N.socketConfig.opts})||this;return o.liveCreated$=o.fromEvent(Q.LIVE_CREATED),o.liveUpdated$=o.fromEvent(Q.LIVE_UPDATED),o.liveDeleted$=o.fromEvent(Q.LIVE_DELETED),o}return(0,L.ZT)(e,n),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac=function(r){return new(r||e)}}),e}(Yt.sk),z=function(){function n(e,o,r){var d=this;this.actions$=e,this.contactsService=o,this.contactsSocket=r,this.loadAll$=(0,b.GW)(function(){return d.actions$.pipe((0,b.l4)(nt),(0,Lt.O)(nt()),(0,D.w)(function(){return d.contactsService.index().pipe((0,E.U)(function(c){return bt({contacts:c})}))}))}),this.load$=(0,b.GW)(function(){return d.actions$.pipe((0,b.l4)(et),(0,x.j)("id"),(0,D.w)(function(c){return d.contactsService.show(c).pipe((0,E.U)(function(m){return rt({contact:m})}))}))}),this.create$=(0,b.GW)(function(){return d.actions$.pipe((0,b.l4)(ot),(0,x.j)("contact"),(0,D.w)(function(c){return d.contactsService.create(c).pipe((0,E.U)(function(m){return H({contact:m})}),(0,xt.K)(function(m){return alert(m.message),(0,pt.of)(At({err:{concern:"CREATE",error:m}}))}))}))}),this.update$=(0,b.GW)(function(){return d.actions$.pipe((0,b.l4)(it),(0,x.j)("contact"),(0,$t.z)(function(c){return d.contactsService.update(c).pipe((0,E.U)(function(m){return K({contact:m})}))}))}),this.destroy$=(0,b.GW)(function(){return d.actions$.pipe((0,b.l4)(at),(0,x.j)("id"),(0,D.w)(function(c){return d.contactsService.destroy(c).pipe((0,x.j)("id"),(0,E.U)(function(m){return G({id:m})}))}))}),this.liveCreate$=this.contactsSocket.liveCreated$.pipe((0,E.U)(function(c){return H({contact:c})})),this.liveUpdate$=this.contactsSocket.liveUpdated$.pipe((0,E.U)(function(c){return K({contact:c})})),this.liveDestroy$=this.contactsSocket.liveDeleted$.pipe((0,E.U)(function(c){return G({id:c})}))}return n.\u0275fac=function(o){return new(o||n)(t.LFG(b.eX),t.LFG(dt),t.LFG(lt))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),(0,L.gn)([(0,b.Qm)()],n.prototype,"liveCreate$",void 0),(0,L.gn)([(0,b.Qm)()],n.prototype,"liveUpdate$",void 0),(0,L.gn)([(0,b.Qm)()],n.prototype,"liveDestroy$",void 0),n}();function kt(n,e){if(1&n){var o=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._uU(3," Contact "),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"p"),t._uU(6,"Name: "),t.TgZ(7,"span",5),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Email: "),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Phone: "),t.TgZ(15,"span",5),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"span",7),t.TgZ(19,"button",8),t.NdJ("click",function(){t.CHM(o);var c=t.oxw();return c.edit.emit(c.contact)}),t._uU(20," EDIT"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){t.CHM(o);var c=t.oxw();return c.remove.emit(c.contact)}),t._uU(22," DELETE"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){var r=t.oxw();t.xp6(8),t.Oqu(r.contact.name),t.xp6(4),t.Oqu(r.contact.email),t.xp6(4),t.Oqu(r.contact.phone)}}var Jt=function(){function n(){this.edit=new t.vpe,this.remove=new t.vpe}return n.prototype.ngOnInit=function(){},n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-details-container"]],inputs:{contact:"contact"},outputs:{edit:"edit",remove:"remove"},decls:1,vars:1,consts:[["class","contact-details-container",4,"ngIf"],[1,"contact-details-container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"badge","badge-primary"],[1,"card-footer","text-muted"],[1,"float-md-right"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(o,r){1&o&&t.YNc(0,kt,23,3,"div",0),2&o&&t.Q6J("ngIf",r.contact)},directives:[I.O5],styles:[".contact-details-container[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),n}(),jt=function(){function n(e,o,r,d){var c=this;this.activatedRoute=e,this.router=o,this.contactsFacade=r,this.contactsEffects=d,this.contact$=this.activatedRoute.params.pipe((0,E.U)(function(m){return m.contactId}),(0,D.w)(function(m){return c.contactsFacade.getContactById(m)}))}return n.prototype.ngOnInit=function(){var e=this;this.redirectSub=this.contactsEffects.destroy$.pipe((0,ut.h)(function(o){return o.id===+e.activatedRoute.snapshot.params.contactId})).subscribe(function(o){return e.router.navigate(["/contacts"])}),this.activatedRoute.params.subscribe(function(o){e.contactsFacade.loadContact(+o.contactId)})},n.prototype.editContact=function(e){this.router.navigate(["/contacts",e.id,"edit"])},n.prototype.deleteContact=function(e){confirm("Are you sure?")&&this.contactsFacade.deleteContact(e.id)},n.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},n.\u0275fac=function(o){return new(o||n)(t.Y36(O.gz),t.Y36(O.F0),t.Y36(q),t.Y36(z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-details"]],decls:2,vars:3,consts:[[3,"contact","edit","remove"]],template:function(o,r){1&o&&(t.TgZ(0,"app-contact-details-container",0),t.NdJ("edit",function(c){return r.editContact(c)})("remove",function(c){return r.deleteContact(c)}),t.ALo(1,"async"),t.qZA()),2&o&&t.Q6J("contact",t.lcZ(1,1,r.contact$))},directives:[Jt],pipes:[I.Ov],styles:[""],changeDetection:0}),n}(),Rt=function(){function n(e,o,r,d){var c=this;this.activatedRoute=e,this.router=o,this.contactsFacade=r,this.contactsEffects=d,this.contact$=this.activatedRoute.params.pipe((0,E.U)(function(m){return m.contactId}),(0,D.w)(function(m){return c.contactsFacade.getContactById(m)}))}return n.prototype.ngOnInit=function(){var e=this;this.redirectSub=this.contactsEffects.update$.pipe((0,ut.h)(function(o){return o.contact.id===+e.activatedRoute.snapshot.params.contactId})).subscribe(function(o){return e.router.navigate(["/contacts",o.contact.id])}),this.activatedRoute.params.subscribe(function(o){e.contactsFacade.loadContact(+o.contactId)})},n.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},n.prototype.submitted=function(e){this.contactsFacade.updateContact(e)},n.\u0275fac=function(o){return new(o||n)(t.Y36(O.gz),t.Y36(O.F0),t.Y36(q),t.Y36(z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-edit"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"contact","save"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," Edit Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(c){return r.submitted(c)}),t.ALo(5,"async"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("contact",t.lcZ(5,1,r.contact$)))},directives:[st],pipes:[I.Ov],styles:[""],changeDetection:0}),n}(),Ht=C(534),P=function(){function n(e){this.store=e}return n.prototype.resolve=function(e,o){return this.store.dispatch((0,Ht.u)({payload:e.data.title})),(0,pt.of)(e.data.title)},n.\u0275fac=function(o){return new(o||n)(t.LFG(l.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),Kt=[{path:"",component:mt,children:[{path:"",component:qt,data:{title:"Contacts index"},resolve:{title:P}},{path:"new",component:wt,data:{title:"New contact"},resolve:{title:P}},{path:":contactId",component:jt,data:{title:"Contact details"},resolve:{title:P}},{path:":contactId/edit",component:Rt,data:{title:"Edit contact"},resolve:{title:P}}]}],Gt=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[O.Bz.forChild(Kt)],O.Bz]}),n}(),Qt=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[dt,lt,q],imports:[[I.ez,vt.m,Gt,l.Aw.forFeature("contacts",Mt),b.sQ.forFeature([z])]]}),n}()}}]);