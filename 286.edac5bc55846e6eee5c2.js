(self.webpackChunkExpenses=self.webpackChunkExpenses||[]).push([[286],{77125:function(Wt,It,M){Wt.exports=function(Q){"use strict";function ct(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var U=ct(Q),t=U.default.helpers,yt=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var c=window.screen;if(c)return(c.deviceXDPI||1)/(c.logicalXDPI||1)}return 1}(),L={toTextLines:function(e){var a,n=[];for(e=[].concat(e);e.length;)"string"==typeof(a=e.pop())?n.unshift.apply(n,a.split("\n")):Array.isArray(a)?e.push.apply(e,a):t.isNullOrUndef(e)||n.unshift(""+a);return n},toFontString:function(e){return!e||t.isNullOrUndef(e.size)||t.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,n,a){var v,o=[].concat(n),s=o.length,u=e.font,d=0;for(e.font=a.string,v=0;v<s;++v)d=Math.max(e.measureText(o[v]).width,d);return e.font=u,{height:s*a.lineHeight,width:d}},parseFont:function(e){var n=U.default.defaults.global,a=t.valueOrDefault(e.size,n.defaultFontSize),o={family:t.valueOrDefault(e.family,n.defaultFontFamily),lineHeight:t.options.toLineHeight(e.lineHeight,a),size:a,style:t.valueOrDefault(e.style,n.defaultFontStyle),weight:t.valueOrDefault(e.weight,null),string:""};return o.string=L.toFontString(o),o},bound:function(e,n,a){return Math.max(e,Math.min(n,a))},arrayDiff:function(e,n){var s,u,d,v,a=e.slice(),o=[];for(s=0,d=n.length;s<d;++s)-1===(u=a.indexOf(v=n[s]))?o.push([v,1]):a.splice(u,1);for(s=0,d=a.length;s<d;++s)o.push([a[s],-1]);return o},rasterize:function(e){return Math.round(e*yt)/yt}};function ut(c,e){var n=e.x,a=e.y;if(null===n)return{x:0,y:-1};if(null===a)return{x:1,y:0};var o=c.x-n,s=c.y-a,u=Math.sqrt(o*o+s*s);return{x:u?o/u:0,y:u?s/u:-1}}function q(c,e,n){var a=0;return c<n.left?a|=1:c>n.right&&(a|=2),e<n.top?a|=8:e>n.bottom&&(a|=4),a}function tt(c,e){var o,s,n=e.anchor,a=c;return e.clamp&&(a=function(c,e){for(var v,x,T,n=c.x0,a=c.y0,o=c.x1,s=c.y1,u=q(n,a,e),d=q(o,s,e);u|d&&!(u&d);)8&(v=u||d)?(x=n+(o-n)*(e.top-a)/(s-a),T=e.top):4&v?(x=n+(o-n)*(e.bottom-a)/(s-a),T=e.bottom):2&v?(T=a+(s-a)*(e.right-n)/(o-n),x=e.right):1&v&&(T=a+(s-a)*(e.left-n)/(o-n),x=e.left),v===u?u=q(n=x,a=T,e):d=q(o=x,s=T,e);return{x0:n,x1:o,y0:a,y1:s}}(a,e.area)),"start"===n?(o=a.x0,s=a.y0):"end"===n?(o=a.x1,s=a.y1):(o=(a.x0+a.x1)/2,s=(a.y0+a.y1)/2),function(c,e,n,a,o){switch(o){case"center":n=a=0;break;case"bottom":n=0,a=1;break;case"right":n=1,a=0;break;case"left":n=-1,a=0;break;case"top":n=0,a=-1;break;case"start":n=-n,a=-a;break;case"end":break;default:o*=Math.PI/180,n=Math.cos(o),a=Math.sin(o)}return{x:c,y:e,vx:n,vy:a}}(o,s,c.vx,c.vy,e.align)}var et={arc:function(e,n){var a=(e.startAngle+e.endAngle)/2,o=Math.cos(a),s=Math.sin(a),u=e.innerRadius,d=e.outerRadius;return tt({x0:e.x+o*u,y0:e.y+s*u,x1:e.x+o*d,y1:e.y+s*d,vx:o,vy:s},n)},point:function(e,n){var a=ut(e,n.origin),o=a.x*e.radius,s=a.y*e.radius;return tt({x0:e.x-o,y0:e.y-s,x1:e.x+o,y1:e.y+s,vx:a.x,vy:a.y},n)},rect:function(e,n){var a=ut(e,n.origin),o=e.x,s=e.y,u=0,d=0;return e.horizontal?(o=Math.min(e.x,e.base),u=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),d=Math.abs(e.base-e.y)),tt({x0:o,y0:s+d,x1:o+u,y1:s,vx:a.x,vy:a.y},n)},fallback:function(e,n){var a=ut(e,n.origin);return tt({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:a.x,vy:a.y},n)}},Y=U.default.helpers,H=L.rasterize;function Bt(c){var e=c._model.horizontal,n=c._scale||e&&c._xScale||c._yScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var a=n.getBasePixel();return e?{x:a,y:null}:{x:null,y:a}}function jt(c,e,n){var a=c.shadowBlur,o=n.stroked,s=H(n.x),u=H(n.y),d=H(n.w);o&&c.strokeText(e,s,u,d),n.filled&&(a&&o&&(c.shadowBlur=0),c.fillText(e,s,u,d),a&&o&&(c.shadowBlur=a))}var Ct=function(e,n,a,o){var s=this;s._config=e,s._index=o,s._model=null,s._rects=null,s._ctx=n,s._el=a};Y.extend(Ct.prototype,{_modelize:function(e,n,a,o){var c,s=this,u=s._index,d=Y.options.resolve,v=L.parseFont(d([a.font,{}],o,u)),x=d([a.color,U.default.defaults.global.defaultFontColor],o,u);return{align:d([a.align,"center"],o,u),anchor:d([a.anchor,"center"],o,u),area:o.chart.chartArea,backgroundColor:d([a.backgroundColor,null],o,u),borderColor:d([a.borderColor,null],o,u),borderRadius:d([a.borderRadius,0],o,u),borderWidth:d([a.borderWidth,0],o,u),clamp:d([a.clamp,!1],o,u),clip:d([a.clip,!1],o,u),color:x,display:e,font:v,lines:n,offset:d([a.offset,0],o,u),opacity:d([a.opacity,1],o,u),origin:Bt(s._el),padding:Y.options.toPadding(d([a.padding,0],o,u)),positioner:(c=s._el,c instanceof U.default.elements.Arc?et.arc:c instanceof U.default.elements.Point?et.point:c instanceof U.default.elements.Rectangle?et.rect:et.fallback),rotation:d([a.rotation,0],o,u)*(Math.PI/180),size:L.textSize(s._ctx,n,v),textAlign:d([a.textAlign,"start"],o,u),textShadowBlur:d([a.textShadowBlur,0],o,u),textShadowColor:d([a.textShadowColor,x],o,u),textStrokeColor:d([a.textStrokeColor,x],o,u),textStrokeWidth:d([a.textStrokeWidth,0],o,u)}},update:function(e){var d,v,x,n=this,a=null,o=null,s=n._index,u=n._config,T=Y.options.resolve([u.display,!0],e,s);T&&(v=Y.valueOrDefault(Y.callback(u.formatter,[d=e.dataset.data[s],e]),d),(x=Y.isNullOrUndef(v)?[]:L.toTextLines(v)).length&&(o=function(c){var e=c.borderWidth||0,n=c.padding,a=c.size.height,o=c.size.width,s=-o/2,u=-a/2;return{frame:{x:s-n.left-e,y:u-n.top-e,w:o+n.width+2*e,h:a+n.height+2*e},text:{x:s,y:u,w:o,h:a}}}(a=n._modelize(T,x,u,e)))),n._model=a,n._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,n){var d,o=e.ctx,s=this._model,u=this._rects;!this.visible()||(o.save(),s.clip&&(d=s.area,o.beginPath(),o.rect(d.left,d.top,d.right-d.left,d.bottom-d.top),o.clip()),o.globalAlpha=L.bound(0,s.opacity,1),o.translate(H(n.x),H(n.y)),o.rotate(s.rotation),function(c,e,n){var a=n.backgroundColor,o=n.borderColor,s=n.borderWidth;!a&&(!o||!s)||(c.beginPath(),Y.canvas.roundedRect(c,H(e.x)+s/2,H(e.y)+s/2,H(e.w)-s,H(e.h)-s,n.borderRadius),c.closePath(),a&&(c.fillStyle=a,c.fill()),o&&s&&(c.strokeStyle=o,c.lineWidth=s,c.lineJoin="miter",c.stroke()))}(o,u.frame,s),function(c,e,n,a){var I,o=a.textAlign,s=a.color,u=!!s,d=a.font,v=e.length,x=a.textStrokeColor,T=a.textStrokeWidth,E=x&&T;if(v&&(u||E))for(n=function(c,e,n){var a=n.lineHeight,o=c.w,s=c.x;return"center"===e?s+=o/2:("end"===e||"right"===e)&&(s+=o),{h:a,w:o,x:s,y:c.y+a/2}}(n,o,d),c.font=d.string,c.textAlign=o,c.textBaseline="middle",c.shadowBlur=a.textShadowBlur,c.shadowColor=a.textShadowColor,u&&(c.fillStyle=s),E&&(c.lineJoin="round",c.lineWidth=T,c.strokeStyle=x),I=0,v=e.length;I<v;++I)jt(c,e[I],{stroked:E,filled:u,w:n.w,x:n.x,y:n.y+n.h*I})}(o,s.lines,u.text,s),o.restore())}});var Gt=Number.MIN_SAFE_INTEGER||-9007199254740991,W=Number.MAX_SAFE_INTEGER||9007199254740991;function G(c,e,n){var a=Math.cos(n),o=Math.sin(n),s=e.x,u=e.y;return{x:s+a*(c.x-s)-o*(c.y-u),y:u+o*(c.x-s)+a*(c.y-u)}}function _t(c,e){var s,u,x,n=W,a=Gt,o=e.origin;for(s=0;s<c.length;++s)x=e.vx*((u=c[s]).x-o.x)+e.vy*(u.y-o.y),n=Math.min(n,x),a=Math.max(a,x);return{min:n,max:a}}function at(c,e){var n=e.x-c.x,a=e.y-c.y,o=Math.sqrt(n*n+a*a);return{vx:(e.x-c.x)/o,vy:(e.y-c.y)/o,origin:c,ln:o}}var xt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Zt(c,e,n){var a=e.positioner(c,e),o=a.vx,s=a.vy;if(!o&&!s)return{x:a.x,y:a.y};var u=n.w,d=n.h,v=e.rotation,x=Math.abs(u/2*Math.cos(v))+Math.abs(d/2*Math.sin(v)),T=Math.abs(u/2*Math.sin(v))+Math.abs(d/2*Math.cos(v)),E=1/Math.max(Math.abs(o),Math.abs(s));return x*=o*E,T*=s*E,{x:a.x+(x+=e.offset*o),y:a.y+(T+=e.offset*s)}}U.default.helpers.extend(xt.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,n,a){this._rotation=a,this._rect={x:n.x+e.x,y:n.y+e.y,w:n.w,h:n.h}},contains:function(e){var n=this,o=n._rect;return!((e=G(e,n.center(),-n._rotation)).x<o.x-1||e.y<o.y-1||e.x>o.x+o.w+2||e.y>o.y+o.h+2)},intersects:function(e){var s,u,d,n=this._points(),a=e._points(),o=[at(n[0],n[1]),at(n[0],n[3])];for(this._rotation!==e._rotation&&o.push(at(a[0],a[1]),at(a[0],a[3])),s=0;s<o.length;++s)if(u=_t(n,o[s]),d=_t(a,o[s]),u.max<d.min||d.max<u.min)return!1;return!0},_points:function(){var e=this,n=e._rect,a=e._rotation,o=e.center();return[G({x:n.x,y:n.y},o,a),G({x:n.x+n.w,y:n.y},o,a),G({x:n.x+n.w,y:n.y+n.h},o,a),G({x:n.x,y:n.y+n.h},o,a)]}});var X={prepare:function(e){var a,o,s,u,d,n=[];for(a=0,s=e.length;a<s;++a)for(o=0,u=e[a].length;o<u;++o)n.push(d=e[a][o]),d.$layout={_box:new xt,_hidable:!1,_visible:!0,_set:a,_idx:o};return n.sort(function(v,x){var T=v.$layout,E=x.$layout;return T._idx===E._idx?E._set-T._set:E._idx-T._idx}),this.update(n),n},update:function(e){var a,o,s,u,d,n=!1;for(a=0,o=e.length;a<o;++a)u=(s=e[a]).model(),(d=s.$layout)._hidable=u&&"auto"===u.display,d._visible=s.visible(),n|=d._hidable;n&&function(c){var e,n,a,o,s,u;for(e=0,n=c.length;e<n;++e)(o=(a=c[e]).$layout)._visible&&(s=a.geometry(),u=Zt(a._el._model,a.model(),s),o._box.update(u,s,a.rotation()));(function(c,e){var n,a,o,s;for(n=c.length-1;n>=0;--n)for(o=c[n].$layout,a=n-1;a>=0&&o._visible;--a)(s=c[a].$layout)._visible&&o._box.intersects(s._box)&&e(o,s)})(c,function(d,v){var x=d._hidable,T=v._hidable;x&&T||T?v._visible=!1:x&&(d._visible=!1)})}(e)},lookup:function(e,n){var a,o;for(a=e.length-1;a>=0;--a)if((o=e[a].$layout)&&o._visible&&o._box.contains(n))return e[a];return null},draw:function(e,n){var a,o,s,u,d,v;for(a=0,o=n.length;a<o;++a)(u=(s=n[a]).$layout)._visible&&(d=s.geometry(),v=Zt(s._el._view,s.model(),d),u._box.update(v,d,s.rotation()),s.draw(e,v))}},R=U.default.helpers,K=U.default.helpers,k="$datalabels",dt="$default";function nt(c,e,n){if(e){var s,a=n.$context,o=n.$groups;!e[o._set]||(s=e[o._set][o._key])&&!0===K.callback(s,[a])&&(c[k]._dirty=!0,n.update(a))}}function it(c,e){var o,s,n=c[k],a=n._listeners;if(a.enter||a.leave){if("mousemove"===e.type)s=X.lookup(n._labels,e);else if("mouseout"!==e.type)return;o=n._hovered,n._hovered=s,function(c,e,n,a){var o,s;!n&&!a||(n?a?n!==a&&(s=o=!0):s=!0:o=!0,s&&nt(c,e.leave,n),o&&nt(c,e.enter,a))}(c,a,o,s)}}return U.default.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(R.isNullOrUndef(e))return null;var a,o,s,n=e;if(R.isObject(e))if(R.isNullOrUndef(e.label))if(R.isNullOrUndef(e.r))for(n="",s=0,o=(a=Object.keys(e)).length;s<o;++s)n+=(0!==s?", ":"")+a[s]+": "+e[a[s]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},{id:"datalabels",beforeInit:function(e){e[k]={_actives:[]}},beforeUpdate:function(e){var n=e[k];n._listened=!1,n._listeners={},n._datasets=[],n._labels=[]},afterDatasetUpdate:function(e,n,a){var I,ot,wt,St,ft,Mt,J,z,o=n.index,s=e[k],u=s._datasets[o]=[],d=e.isDatasetVisible(o),v=e.data.datasets[o],x=function(c,e){var s,u,n=c.datalabels,a={},o=[];return!1===n?null:(!0===n&&(n={}),e=K.merge({},[e,n]),s=e.labels||{},u=Object.keys(s),delete e.labels,u.length?u.forEach(function(d){s[d]&&o.push(K.merge({},[e,s[d],{_key:d}]))}):o.push(e),a=o.reduce(function(d,v){return K.each(v.listeners||{},function(x,T){d[T]=d[T]||{},d[T][v._key||dt]=x}),delete v.listeners,d},{}),{labels:o,listeners:a})}(v,a),T=n.meta.data||[],E=e.ctx;for(E.save(),I=0,wt=T.length;I<wt;++I)if((J=T[I])[k]=[],d&&J&&!J.hidden&&!J._model.skip)for(ot=0,St=x.labels.length;ot<St;++ot)Mt=(ft=x.labels[ot])._key,(z=new Ct(ft,E,J,I)).$groups={_set:o,_key:Mt||dt},z.$context={active:!1,chart:e,dataIndex:I,dataset:v,datasetIndex:o},z.update(z.$context),J[k].push(z),u.push(z);E.restore(),K.merge(s._listeners,x.listeners,{merger:function(st,ht,zt){ht[st]=ht[st]||{},ht[st][n.index]=zt[st],s._listened=!0}})},afterUpdate:function(e,n){e[k]._labels=X.prepare(e[k]._datasets,n)},afterDatasetsDraw:function(e){X.draw(e,e[k]._labels)},beforeEvent:function(e,n){if(e[k]._listened)switch(n.type){case"mousemove":case"mouseout":it(e,n);break;case"click":!function(c,e){var n=c[k],a=n._listeners.click,o=a&&X.lookup(n._labels,e);o&&nt(c,a,o)}(e,n)}},afterEvent:function(e){var u,d,v,x,T,E,I,n=e[k],a=n._actives,o=n._actives=e.lastActive||[],s=L.arrayDiff(a,o);for(u=0,d=s.length;u<d;++u)if((T=s[u])[1])for(v=0,x=(I=T[0][k]||[]).length;v<x;++v)(E=I[v]).$context.active=1===T[1],E.update(E.$context);(n._dirty||s.length)&&(X.update(n._labels),function(c){if(!c.animating){for(var e=U.default.animationService.animations,n=0,a=e.length;n<a;++n)if(e[n].chart===c)return;c.render({duration:1,lazy:!0})}}(e)),delete n._dirty}}}(M(72075))},21286:function(Wt,It,M){"use strict";M.r(It),M.d(It,{ContactsModule:function(){return re}});var Q=M(61116),ct=M(257),U=M(70992),t=M(60091),yt=function(){function r(){}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contacts"]],decls:1,vars:0,template:function(i,f){1&i&&t._UZ(0,"router-outlet")},directives:[U.lC],encapsulation:2,changeDetection:0}),r}(),L=M(96054),ut=M(51558),_=M(51671);function gt(){return{getInitialState:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},l)}}}function mt(){return{getSelectors:function(l){var i=function(F){return F.ids},f=function(F){return F.entities},C=(0,_.P1)(i,f,function(w,F){return w.map(function(P){return F[P]})}),y=(0,_.P1)(i,function(w){return w.length});return l?{selectIds:(0,_.P1)(l,i),selectEntities:(0,_.P1)(l,f),selectAll:(0,_.P1)(l,C),selectTotal:(0,_.P1)(l,y)}:{selectIds:i,selectEntities:f,selectAll:C,selectTotal:y}}}}var b=function(r){return r[r.EntitiesOnly=0]="EntitiesOnly",r[r.Both=1]="Both",r[r.None=2]="None",r}({});function S(r){return function(i,f){var C={ids:(0,ut.Z)(f.ids),entities:Object.assign({},f.entities)},y=r(i,C);return y===b.Both?Object.assign({},f,C):y===b.EntitiesOnly?Object.assign(Object.assign({},f),{entities:C.entities}):f}}function q(r,l){var i=l(r);return(0,t.X6Q)()&&void 0===i&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",r,"The `selectId` implementation:",l.toString()),i}function bt(r){function l(Z,g){var O=q(Z,r);return O in g.entities?b.None:(g.ids.push(O),g.entities[O]=Z,b.Both)}function i(Z,g){var p,O=!1,h=(0,L.Z)(Z);try{for(h.s();!(p=h.n()).done;)O=l(p.value,g)!==b.None||O}catch(A){h.e(A)}finally{h.f()}return O?b.Both:b.None}function C(Z,g){var O=q(Z,r);return O in g.entities?(g.entities[O]=Z,b.EntitiesOnly):(g.ids.push(O),g.entities[O]=Z,b.Both)}function F(Z,g){var h=(Z instanceof Array?Z:g.ids.filter(function(p){return Z(g.entities[p])})).filter(function(p){return p in g.entities}).map(function(p){return delete g.entities[p]}).length>0;return h&&(g.ids=g.ids.filter(function(p){return p in g.entities})),h?b.Both:b.None}function Ut(Z,g){return V([Z],g)}function V(Z,g){var O={};return(Z=Z.filter(function(m){return m.id in g.entities})).length>0?Z.filter(function(m){return function(Z,g,O){var p=Object.assign({},O.entities[g.id],g.changes),m=q(p,r),A=m!==g.id;return A&&(Z[g.id]=m,delete O.entities[g.id]),O.entities[m]=p,A}(O,m,g)}).length>0?(g.ids=g.ids.map(function(m){return O[m]||m}),b.Both):b.EntitiesOnly:b.None}function Et(Z,g){var m,O=[],h=[],p=(0,L.Z)(Z);try{for(p.s();!(m=p.n()).done;){var A=m.value,D=q(A,r);D in g.entities?h.push({id:D,changes:A}):O.push(A)}}catch($){p.e($)}finally{p.f()}var N=V(h,g),B=i(O,g);switch(!0){case B===b.None&&N===b.None:return b.None;case B===b.Both||N===b.Both:return b.Both;default:return b.EntitiesOnly}}return{removeAll:function(Z){return Object.assign({},Z,{ids:[],entities:{}})},addOne:S(l),addMany:S(i),setAll:S(function(Z,g){return g.ids=[],g.entities={},i(Z,g),b.Both}),setOne:S(C),setMany:S(function(Z,g){var O=Z.map(function(h){return C(h,g)});switch(!0){case O.some(function(h){return h===b.Both}):return b.Both;case O.some(function(h){return h===b.EntitiesOnly}):return b.EntitiesOnly;default:return b.None}}),updateOne:S(Ut),updateMany:S(V),upsertOne:S(function(Z,g){return Et([Z],g)}),upsertMany:S(Et),removeOne:S(function(Z,g){return F([Z],g)}),removeMany:S(F),map:S(function(Z,g){return V(g.ids.reduce(function(p,m){var A=Z(g.entities[m]);return A!==g.entities[m]&&p.push({id:m,changes:A}),p},[]).filter(function(p){return p.id in g.entities}),g)}),mapOne:S(function(Z,g){var h=Z.id,p=g.entities[h];return p?Ut({id:h,changes:(0,Z.map)(p)},g):b.None})}}function tt(r,l){var i=bt(r);function w(h,p){return F([h],p)}function F(h,p){var m=h.filter(function(A){return!(q(A,r)in p.entities)});return 0===m.length?b.None:(O(m,p),b.Both)}function Dt(h,p){var m=q(h,r);return m in p.entities?(p.ids=p.ids.filter(function(A){return A!==m}),O([h],p),b.Both):w(h,p)}function V(h,p){return lt([h],p)}function lt(h,p){var m=[],A=h.filter(function(B){return function(h,p,m){if(!(p.id in m.entities))return!1;var D=Object.assign({},m.entities[p.id],p.changes),N=q(D,r);return delete m.entities[p.id],h.push(D),N!==p.id}(m,B,p)}).length>0;if(0===m.length)return b.None;var D=p.ids,N=[];return p.ids=p.ids.filter(function(B,$){return B in p.entities||(N.push($),!1)}),O(m,p),!A&&N.every(function(B){return p.ids[B]===D[B]})?b.EntitiesOnly:b.Both}function g(h,p){var N,m=[],A=[],D=(0,L.Z)(h);try{for(D.s();!(N=D.n()).done;){var B=N.value,$=q(B,r);$ in p.entities?A.push({id:$,changes:B}):m.push(B)}}catch(Vt){D.e(Vt)}finally{D.f()}var Ft=lt(A,p),vt=F(m,p);switch(!0){case vt===b.None&&Ft===b.None:return b.None;case vt===b.Both||Ft===b.Both:return b.Both;default:return b.EntitiesOnly}}function O(h,p){h.sort(l);for(var m=[],A=0,D=0;A<h.length&&D<p.ids.length;){var N=h[A],B=q(N,r),$=p.ids[D];l(N,p.entities[$])<=0?(m.push(B),A++):(m.push($),D++)}p.ids=m.concat(A<h.length?h.slice(A).map(r):p.ids.slice(D)),h.forEach(function(vt,Vt){p.entities[r(vt)]=vt})}return{removeOne:i.removeOne,removeMany:i.removeMany,removeAll:i.removeAll,addOne:S(w),updateOne:S(V),upsertOne:S(function(h,p){return g([h],p)}),setAll:S(function(h,p){return p.entities={},p.ids=[],F(h,p),b.Both}),setOne:S(Dt),setMany:S(function(h,p){var m=h.map(function(A){return Dt(A,p)});switch(!0){case m.some(function(A){return A===b.Both}):return b.Both;case m.some(function(A){return A===b.EntitiesOnly}):return b.EntitiesOnly;default:return b.None}}),addMany:S(F),updateMany:S(lt),upsertMany:S(g),map:S(function(h,p){return lt(p.ids.reduce(function(A,D){var N=h(p.entities[D]);return N!==p.entities[D]&&A.push({id:D,changes:N}),A},[]),p)}),mapOne:S(function(h,p){var A=h.id,D=p.entities[A];return D?V({id:A,changes:(0,h.map)(D)},p):b.None})}}(0,_.PH)("[Contacts] Load SpreadSheet");var kt=(0,_.PH)("[Contacts] Load",(0,_.Ky)()),Bt=(0,_.PH)("[Contacts] Create",(0,_.Ky)()),qt=(0,_.PH)("[Contacts] Update",(0,_.Ky)()),Lt=(0,_.PH)("[Contacts] Remove",(0,_.Ky)()),jt=((0,_.PH)("[Contacts] Load all success",(0,_.Ky)()),(0,_.PH)("[Contacts] Load success",(0,_.Ky)())),Pt=(0,_.PH)("[Contacts] Create success",(0,_.Ky)()),Ct=(0,_.PH)("[Contacts] Update success",(0,_.Ky)()),Ht=(0,_.PH)("[Contacts] Remove success",(0,_.Ky)()),W=((0,_.PH)("[Contacts] Failure",(0,_.Ky)()),function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=Object.assign({sortComparer:!1,selectId:function(P){return P.id}},r),i=l.selectId,f=l.sortComparer,C=gt(),y=mt(),w=f?tt(i,f):bt(i);return Object.assign(Object.assign(Object.assign({selectId:i,sortComparer:f},C),y),w)}({selectId:function(r){return r.id},sortComparer:!1})),G=W.getInitialState({}),_t=(0,_.Lq)(G,(0,_.on)(jt,function(r,l){return W.upsertOne(l.contact,r)}),(0,_.on)(Pt,function(r,l){return W.addOne(l.contact,r)}),(0,_.on)(Ct,function(r,l){var i=l.contact;return W.updateOne({id:i.id,changes:i},r)}),(0,_.on)(Ht,function(r,l){return W.removeOne(l.id,r)}));function xt(r,l){return(0,_.UY)({contacts:_t})(r,l)}var Zt=(0,_.ZF)("contacts"),At=(0,_.P1)(Zt,function(r){return r.contacts}),Rt=W.getSelectors(At).selectAll,R=function(){function r(l){this.store=l,this.contacts$=this.store.pipe((0,_.Ys)(Rt))}return r.prototype.loadContact=function(l){this.store.dispatch(kt({id:l}))},r.prototype.createContact=function(l){this.store.dispatch(Bt({contact:l}))},r.prototype.updateContact=function(l){this.store.dispatch(qt({contact:l}))},r.prototype.deleteContact=function(l){this.store.dispatch(Lt({id:l}))},r.prototype.getContactById=function(l){return this.store.pipe((0,_.Ys)(function(r){return(0,_.P1)(At,function(r){return function(l){return l.entities[r]}}(r))}(l)))},r.\u0275fac=function(i){return new(i||r)(t.LFG(_.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),Yt=M(64762),j=M(31041),K=function(){function r(l){this.formBuilder=l,this.contact={id:void 0,name:"",email:"",phone:""},this.save=new t.vpe,this.form=this.formBuilder.group({id:[this.contact.id],name:[this.contact.name,j.kI.required],email:[this.contact.email,j.kI.required],phone:[this.contact.phone]})}return r.prototype.ngOnInit=function(){},r.prototype.ngOnChanges=function(){this.contact&&this.form.patchValue((0,Yt.pi)({},this.contact))},r.prototype.submit=function(){this.form.valid&&this.save.emit(this.form.value)},r.\u0275fac=function(i){return new(i||r)(t.Y36(j.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-form"]],inputs:{contact:"contact"},outputs:{save:"save"},features:[t.TTD],decls:16,vars:2,consts:[[1,"form",3,"formGroup","submit"],[1,"form-group"],["for","name-input"],["id","name-input","type","text","formControlName","name",1,"form-control"],["for","email-input"],["id","email-input","type","email","formControlName","email",1,"form-control"],["for","phone-input"],["id","phone-input","type","tel","formControlName","phone",1,"form-control"],["type","submit",1,"btn","btn-success","float-right",3,"disabled"]],template:function(i,f){1&i&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return f.submit()}),t.TgZ(1,"div",1),t.TgZ(2,"label",2),t._uU(3,"Name:"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"label",4),t._uU(7,"Email:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1),t.TgZ(10,"label",6),t._uU(11,"Phone:"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1),t.TgZ(14,"button",8),t._uU(15," Submit "),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.Q6J("formGroup",f.form),t.xp6(14),t.Q6J("disabled",!f.form.valid))},directives:[j._Y,j.JL,j.sg,j.Fj,j.JJ,j.u],styles:[".form[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),k=function(){function r(l,i){this.contactsFacade=l,this.router=i}return r.prototype.ngOnInit=function(){},r.prototype.ngOnDestroy=function(){},r.prototype.submitted=function(l){this.contactsFacade.createContact(l),this.router.navigate(["/contacts"])},r.\u0275fac=function(i){return new(i||r)(t.Y36(R),t.Y36(U.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-new"]],decls:5,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"save"]],template:function(i,f){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," New Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(y){return f.submitted(y)}),t.qZA(),t.qZA(),t.qZA())},directives:[K],styles:[""],changeDetection:0}),r}(),dt=M(79996),Tt=M(44689),nt=M(23395),rt=M(42693),it=M(529),Ot=function(){function r(l){this.http=l}return r.prototype.getSpreadsheet=function(){var l=new rt.LE;return l=l.append("ranges","Data!A2:A50"),this.http.get(it.N.appApi.baseUrl+it.N.spreadsheetId+"/values:batchGet",{params:l})},r.\u0275fac=function(i){return new(i||r)(t.LFG(rt.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),pt=function(){function r(l,i){this.actions$=l,this.contactsService=i}return r.\u0275fac=function(i){return new(i||r)(t.LFG(nt.eX),t.LFG(Ot))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}();function Jt(r,l){if(1&r){var i=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._uU(3," Contact "),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"p"),t._uU(6,"Name: "),t.TgZ(7,"span",5),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Email: "),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Phone: "),t.TgZ(15,"span",5),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"span",7),t.TgZ(19,"button",8),t.NdJ("click",function(){t.CHM(i);var y=t.oxw();return y.edit.emit(y.contact)}),t._uU(20," EDIT"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){t.CHM(i);var y=t.oxw();return y.remove.emit(y.contact)}),t._uU(22," DELETE"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){var f=t.oxw();t.xp6(8),t.Oqu(f.contact.name),t.xp6(4),t.Oqu(f.contact.email),t.xp6(4),t.Oqu(f.contact.phone)}}var c=function(){function r(){this.edit=new t.vpe,this.remove=new t.vpe}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-details-container"]],inputs:{contact:"contact"},outputs:{edit:"edit",remove:"remove"},decls:1,vars:1,consts:[["class","contact-details-container",4,"ngIf"],[1,"contact-details-container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"badge","badge-primary"],[1,"card-footer","text-muted"],[1,"float-md-right"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(i,f){1&i&&t.YNc(0,Jt,23,3,"div",0),2&i&&t.Q6J("ngIf",f.contact)},directives:[Q.O5],styles:[".contact-details-container[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),e=function(){function r(l,i,f,C){var y=this;this.activatedRoute=l,this.router=i,this.contactsFacade=f,this.contactsEffects=C,this.contact$=this.activatedRoute.params.pipe((0,dt.U)(function(w){return w.contactId}),(0,Tt.w)(function(w){return y.contactsFacade.getContactById(w)}))}return r.prototype.ngOnInit=function(){var l=this;this.activatedRoute.params.subscribe(function(i){l.contactsFacade.loadContact(+i.contactId)})},r.prototype.editContact=function(l){this.router.navigate(["/contacts",l.id,"edit"])},r.prototype.deleteContact=function(l){confirm("Are you sure?")&&this.contactsFacade.deleteContact(l.id)},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.\u0275fac=function(i){return new(i||r)(t.Y36(U.gz),t.Y36(U.F0),t.Y36(R),t.Y36(pt))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-details"]],decls:2,vars:3,consts:[[3,"contact","edit","remove"]],template:function(i,f){1&i&&(t.TgZ(0,"app-contact-details-container",0),t.NdJ("edit",function(y){return f.editContact(y)})("remove",function(y){return f.deleteContact(y)}),t.ALo(1,"async"),t.qZA()),2&i&&t.Q6J("contact",t.lcZ(1,1,f.contact$))},directives:[c],pipes:[Q.Ov],styles:[""],changeDetection:0}),r}(),n=function(){function r(l,i,f,C){var y=this;this.activatedRoute=l,this.router=i,this.contactsFacade=f,this.contactsEffects=C,this.contact$=this.activatedRoute.params.pipe((0,dt.U)(function(w){return w.contactId}),(0,Tt.w)(function(w){return y.contactsFacade.getContactById(w)}))}return r.prototype.ngOnInit=function(){var l=this;this.activatedRoute.params.subscribe(function(i){l.contactsFacade.loadContact(+i.contactId)})},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.prototype.submitted=function(l){this.contactsFacade.updateContact(l)},r.\u0275fac=function(i){return new(i||r)(t.Y36(U.gz),t.Y36(U.F0),t.Y36(R),t.Y36(pt))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact-edit"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"contact","save"]],template:function(i,f){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2," Edit Contact "),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"app-contact-form",3),t.NdJ("save",function(y){return f.submitted(y)}),t.ALo(5,"async"),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(4),t.Q6J("contact",t.lcZ(5,1,f.contact$)))},directives:[K],pipes:[Q.Ov],styles:[""],changeDetection:0}),r}(),a=M(40878),o=M(10534),s=function(){function r(l){this.store=l}return r.prototype.resolve=function(l,i){return this.store.dispatch((0,o.u)({payload:l.data.title})),(0,a.of)(l.data.title)},r.\u0275fac=function(i){return new(i||r)(t.LFG(_.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),u=M(77125),d=function(){function r(l){this.http=l}return r.prototype.getSpreadsheet=function(l){var i=new rt.LE;return l.forEach(function(f){i=i.append("ranges",f)}),this.http.get(it.N.appApi.baseUrl+it.N.spreadsheetId+"/values:batchGet",{params:i})},r.\u0275fac=function(i){return new(i||r)(t.LFG(rt.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r}(),v=M(36278),x=M(50111),T=M(84369),E=M(77307);function I(r,l){1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"span",3),t._uU(2,"Loading..."),t.qZA(),t.qZA())}function ot(r,l){if(1&r&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h6",7),t._uU(3,"Year Spending :"),t.qZA(),t.TgZ(4,"h5",8),t._uU(5),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"div"),t.TgZ(8,"div",9),t._UZ(9,"canvas",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var i=t.oxw(2);t.xp6(5),t.Oqu(i.spreadSheetDataObj.totalCost),t.xp6(4),t.Q6J("datasets",i.barChartData)("labels",i.barChartLabels)("options",i.barChartOptions)("plugins",i.barChartPlugins)("legend",i.barChartLegend)("chartType",i.barChartType)}}function wt(r,l){if(1&r&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h6",7),t._uU(3,"Current Month Spending :"),t.qZA(),t.TgZ(4,"h5",8),t._uU(5),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"div"),t.TgZ(8,"div",9),t._UZ(9,"canvas",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var i=t.oxw(2);t.xp6(5),t.Oqu(i.spreadSheetDataObj.currentMonthTotalSpending),t.xp6(4),t.Q6J("data",i.polarAreaChartData)("labels",i.polarAreaChartLabels)("legend",i.polarAreaLegend)("chartType",i.polarAreaChartType)}}function St(r,l){if(1&r&&(t.TgZ(0,"h5",8),t._uU(1),t.qZA()),2&r){var i=t.oxw(3);t.xp6(1),t.Oqu(i.spreadSheetDataObj.totalUtilityCost)}}function ft(r,l){if(1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",17),t._UZ(2,"canvas",18),t.qZA(),t.qZA()),2&r){var i=t.oxw(3);t.xp6(2),t.Q6J("data",i.pieChartData)("labels",i.pieChartLabels)("chartType",i.pieChartType)("options",i.pieChartOptions)("plugins",i.pieChartPlugins)("colors",i.pieChartColors)("legend",i.pieChartLegend)}}function Mt(r,l){if(1&r&&(t.TgZ(0,"div",19),t.TgZ(1,"h6",7),t._uU(2,"Electricity :"),t.qZA(),t.TgZ(3,"h5",8),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div"),t.TgZ(7,"div",9),t._UZ(8,"canvas",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var i=t.oxw(3);t.xp6(4),t.hij("\u20b9",i.spreadSheetDataObj.electricityTotalAmount,""),t.xp6(4),t.Q6J("datasets",i.electricitybarChartData)("labels",i.electricityChartLabels)("options",i.barChartOptions)("plugins",i.barChartPlugins)("legend",i.barChartLegend)("chartType",i.barChartType)}}function J(r,l){if(1&r&&(t.TgZ(0,"div",19),t.TgZ(1,"h6",7),t._uU(2,"Water :"),t.qZA(),t.TgZ(3,"h5",8),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div"),t.TgZ(7,"div",9),t._UZ(8,"canvas",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var i=t.oxw(3);t.xp6(4),t.hij("\u20b9",i.spreadSheetDataObj.waterTotalAmount,""),t.xp6(4),t.Q6J("datasets",i.waterbarChartData)("labels",i.waterChartLabels)("options",i.barChartOptions)("plugins",i.barChartPlugins)("legend",i.barChartLegend)("chartType",i.barChartType)}}function z(r,l){if(1&r&&(t.TgZ(0,"div",20),t.TgZ(1,"h6",7),t._uU(2,"BoardBand :"),t.qZA(),t.TgZ(3,"h5",8),t._uU(4),t._UZ(5,"br"),t.TgZ(6,"h6"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"div",21),t._UZ(13,"div",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var i=t.oxw(3);t.xp6(4),t.hij("\u20b9",i.boardBandData.amount," "),t.xp6(4),t.Oqu(i.boardBandData.startDate),t.xp6(2),t.Oqu(i.boardBandData.endDate),t.xp6(3),t.Udp("width",i.boardBandData.percentage)}}function Xt(r,l){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"menu"),t.qZA())}function st(r,l){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"clear"),t.qZA())}function ht(r,l){if(1&r){var i=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h6",7),t._uU(3,"Utility Spending : "),t.qZA(),t.YNc(4,St,2,1,"h5",12),t.YNc(5,ft,3,7,"div",1),t.YNc(6,Mt,9,7,"div",13),t.YNc(7,J,9,7,"div",13),t.YNc(8,z,14,5,"div",14),t.TgZ(9,"div",15),t.TgZ(10,"button",16),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).expnadUtility()}),t.YNc(11,Xt,2,0,"mat-icon",1),t.YNc(12,st,2,0,"mat-icon",1),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){var f=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility),t.xp6(3),t.Q6J("ngIf",!f.expandUtility),t.xp6(1),t.Q6J("ngIf",f.expandUtility)}}function zt(r,l){if(1&r&&(t.ynx(0),t.YNc(1,ot,10,7,"div",4),t._UZ(2,"mat-divider"),t.YNc(3,wt,10,5,"div",4),t._UZ(4,"mat-divider"),t.YNc(5,ht,13,7,"div",4),t._UZ(6,"mat-divider"),t.BQk()),2&r){var i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.spreadSheetDataObj.totalCost),t.xp6(2),t.Q6J("ngIf",i.spreadSheetDataObj.currentMonthTotalSpending),t.xp6(2),t.Q6J("ngIf",i.spreadSheetDataObj.totalUtilityCost)}}var ee=[{path:"",component:yt,children:[{path:"",component:function(){function r(l,i,f,C){this.contactsFacade=l,this.router=i,this.spreadSheetService=f,this.changeDetection=C,this.barChartOptions={responsive:!0,scales:{xAxes:[{}],yAxes:[{}]},plugins:{datalabels:{anchor:"end",align:"end"}}},this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[u],this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.doughnutChartData=[[350,450,100],[50,150,120],[250,130,70]],this.doughnutChartType="doughnut",this.contacts$=this.contactsFacade.contacts$,this.spreadSheetDataObj={},this.expandUtility=!1,this.month=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.boardBandData={startDate:"",endDate:"",percentage:"0%",amount:0},this.enableLoader=!0,this.barChartLabels=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.barChartData=[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Expenses"}],this.polarAreaChartLabels=[],this.polarAreaChartData=[],this.polarAreaLegend=!0,this.polarAreaChartType="polarArea",this.pieChartOptions={responsive:!0,legend:{position:"top"},plugins:{datalabels:{formatter:function(y,w){return w.chart.data.labels[w.dataIndex]}}}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[u],this.pieChartColors=[{backgroundColor:["rgba(255,161,181,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}],this.electricityChartLabels=[],this.electricitybarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}],this.waterChartLabels=[],this.waterbarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}]}return r.prototype.ngOnInit=function(){var l=this;this.spreadSheetService.getSpreadsheet(["Current!H1","Current!A2:E","Utility!A2:F","Utility!H2:H2","Expenses!F2:F2","Electricity!A2:F","Expenses!A2:E","Water!A2:F"]).subscribe(function(i){l.enableLoader=!1,l.spreadSheetDataObj.currentMonthTotalSpending=i.valueRanges[0].values[0][0],l.spreadSheetDataObj.currentMonthSpendingList=i.valueRanges[1].values,l.spreadSheetDataObj.totalUtilityList=i.valueRanges[2].values,l.spreadSheetDataObj.totalUtilityCost=i.valueRanges[3].values[0][0],l.spreadSheetDataObj.totalCost=i.valueRanges[4].values[0][0],l.spreadSheetDataObj.electricityList=i.valueRanges[5].values.reverse(),l.spreadSheetDataObj.fullYearExpensesList=i.valueRanges[6].values.reverse(),l.spreadSheetDataObj.waterList=i.valueRanges[7].values,l.buildPolarChartData(l.spreadSheetDataObj.currentMonthSpendingList),l.buildPieChartData(l.spreadSheetDataObj.totalUtilityList),l.buildFullyearExpensesChart(l.spreadSheetDataObj.fullYearExpensesList)})},r.prototype.buildFullyearExpensesChart=function(l){var i=[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Expenses"}];l.forEach(function(f){var C=parseInt(f[0].split("-")[1])-1,y=parseFloat(f[4].replace("\u20b9","").replace(/,/g,""));i[0].data[C]+=y}),this.barChartData=i,this.changeDetection.detectChanges()},r.prototype.buildBroadbandBar=function(l){this.boardBandData.startDate=l[0].split("-")[2]+"-"+this.month[parseInt(l[0].split("-")[1])]+"-"+l[0].split("-")[0],this.boardBandData.endDate=l[1].split("-")[2]+"-"+this.month[parseInt(l[1].split("-")[1])]+"-"+l[1].split("-")[0];var i=Math.ceil(Math.abs(new Date(l[0])-new Date(l[1]))/864e5),f=Math.ceil(Math.abs(new Date(l[1])-new Date)/864e5);this.boardBandData.percentage=100-Math.round(f/i*100)+"%",this.boardBandData.amount=l[4]},r.prototype.buildPolarChartData=function(l){var i={};l.forEach(function(f){var C=f[3],y=parseFloat(f[4].replace("\u20b9","").replace(/,/g,""));i[C]=i[C]?i[C]+y:y}),this.polarAreaChartLabels=Object.keys(i),this.polarAreaChartData=Object.values(i),this.changeDetection.detectChanges()},r.prototype.buildPieChartData=function(l){var i=this,f={};l.forEach(function(C){var y=C[3],w=parseFloat(C[4].replace("\u20b9","").replace(/,/g,""));f[y]=f[y]?f[y]+w:w,"Boardband"==y&&new Date<new Date(C[1])&&i.buildBroadbandBar(C)}),this.pieChartLabels=Object.keys(f),this.pieChartData=Object.values(f),this.changeDetection.detectChanges()},r.prototype.expnadUtility=function(){this.expandUtility=!this.expandUtility,this.buildElectricityChart(this.spreadSheetDataObj.electricityList),this.buildWaterChart(this.spreadSheetDataObj.waterList)},r.prototype.buildElectricityChart=function(l){var i=this;this.electricityChartLabels=[],this.electricitybarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}];var C=0;l.forEach(function(y){var w=parseFloat(y[4].replace("\u20b9","").replace(/,/g,""));C+=w;var F=parseFloat(y[5].replace(/,/g,"")),P=y[0].split("-")[2]+"/"+i.month[parseInt(y[0].split("-")[1])]+" - "+y[1].split("-")[2]+"/"+i.month[parseInt(y[1].split("-")[1])]||"error";i.electricityChartLabels.push(P),i.electricitybarChartData[0].data.push(w),i.electricitybarChartData[1].data.push(F)}),this.spreadSheetDataObj.electricityTotalAmount=C,this.changeDetection.detectChanges()},r.prototype.buildWaterChart=function(l){var i=this;this.waterChartLabels=[],this.waterbarChartData=[{data:[],label:"Amount"},{data:[],label:"Unit"}];var C=0;l.forEach(function(y){var w=parseFloat(y[4].replace("\u20b9","").replace(/,/g,""));C+=w;var F=parseFloat(y[5].replace(/,/g,"")),P=y[0].split("-")[2]+"/"+i.month[parseInt(y[0].split("-")[1])]+" - "+y[1].split("-")[2]+"/"+i.month[parseInt(y[1].split("-")[1])]||"error";i.waterChartLabels.push(P),i.waterbarChartData[0].data.push(w),i.waterbarChartData[1].data.push(F)}),this.spreadSheetDataObj.waterTotalAmount=C,this.changeDetection.detectChanges()},r.prototype.editContact=function(l){this.router.navigate(["/contacts",l.id,"edit"])},r.prototype.showContact=function(l){this.router.navigate(["/contacts",l.id])},r.prototype.deleteContact=function(l){confirm("Are you sure?")&&this.contactsFacade.deleteContact(l.id)},r.\u0275fac=function(i){return new(i||r)(t.Y36(R),t.Y36(U.F0),t.Y36(d),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:2,vars:2,consts:[["class","spinner-grow text-secondary","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-grow","text-secondary"],[1,"sr-only"],["class","card text-center",4,"ngIf"],[1,"card","text-center"],[1,"card-body"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-title"],[2,"display","block"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["baseChart","",3,"data","labels","legend","chartType"],["class","card-title",4,"ngIf"],["class","card text-center utility",4,"ngIf"],["class","card text-center utility boardband",4,"ngIf"],[1,"utility-button"],["mat-icon-button","","color","basic","aria-label","Example icon button with a menu icon",3,"click"],[1,"chart"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"card","text-center","utility"],[1,"card","text-center","utility","boardband"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"]],template:function(i,f){1&i&&(t.YNc(0,I,3,0,"div",0),t.YNc(1,zt,7,3,"ng-container",1)),2&i&&(t.Q6J("ngIf",f.enableLoader),t.xp6(1),t.Q6J("ngIf",!f.enableLoader))},directives:[Q.O5,v.d,x.jh,T.lW,E.Hw],styles:[".card-title[_ngcontent-%COMP%]{margin:.5em 0;font-size:200%;color:#119fd6}.card-subtitle[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{text-align:left;text-align:initial;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem;color:#7a7a7a}.utility-button[_ngcontent-%COMP%]{right:8px;top:8px;position:absolute}.utility[_ngcontent-%COMP%]{margin-top:30px}.utility[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding:10px;color:#417f98!important;font-weight:500}.boardband[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#417f98!important;font-size:small;display:flex;justify-content:space-between;padding:12px 10px 0;margin:0 2px -8px}.boardband[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin:10px}.boardband[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#417f98!important}.mat-divider[_ngcontent-%COMP%]{margin:10px}.spinner-grow[_ngcontent-%COMP%]{margin-left:44%}"]}),r}(),data:{title:"Home"},resolve:{title:s}},{path:"new",component:k,data:{title:"New contact"},resolve:{title:s}},{path:":contactId",component:e,data:{title:"Contact details"},resolve:{title:s}},{path:":contactId/edit",component:n,data:{title:"Edit contact"},resolve:{title:s}}]}],ae=function(){function r(){}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[U.Bz.forChild(ee)],U.Bz]}),r}(),ne=function(){function r(){}return r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac=function(i){return new(i||r)}}),r}(),re=function(){function r(){}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Ot,ne,R,d],imports:[[Q.ez,ct.m,ae,_.Aw.forFeature("contacts",xt),nt.sQ.forFeature([pt]),x.m9]]}),r}()}}]);