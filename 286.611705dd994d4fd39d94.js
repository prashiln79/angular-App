(self.webpackChunkExpenses=self.webpackChunkExpenses||[]).push([[286],{77125:function(Ht,Et,w){Ht.exports=function(Y){"use strict";function ot(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}var E=ot(Y),e=E.default.helpers,dt=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var s=window.screen;if(s)return(s.deviceXDPI||1)/(s.logicalXDPI||1)}return 1}(),P={toTextLines:function(t){var n,a=[];for(t=[].concat(t);t.length;)"string"==typeof(n=t.pop())?a.unshift.apply(a,n.split("\n")):Array.isArray(n)?t.push.apply(t,n):e.isNullOrUndef(t)||a.unshift(""+n);return a},toFontString:function(t){return!t||e.isNullOrUndef(t.size)||e.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family},textSize:function(t,a,n){var v,i=[].concat(a),o=i.length,u=t.font,d=0;for(t.font=n.string,v=0;v<o;++v)d=Math.max(t.measureText(i[v]).width,d);return t.font=u,{height:o*n.lineHeight,width:d}},parseFont:function(t){var a=E.default.defaults.global,n=e.valueOrDefault(t.size,a.defaultFontSize),i={family:e.valueOrDefault(t.family,a.defaultFontFamily),lineHeight:e.options.toLineHeight(t.lineHeight,n),size:n,style:e.valueOrDefault(t.style,a.defaultFontStyle),weight:e.valueOrDefault(t.weight,null),string:""};return i.string=P.toFontString(i),i},bound:function(t,a,n){return Math.max(t,Math.min(a,n))},arrayDiff:function(t,a){var o,u,d,v,n=t.slice(),i=[];for(o=0,d=a.length;o<d;++o)-1===(u=n.indexOf(v=a[o]))?i.push([v,1]):n.splice(u,1);for(o=0,d=n.length;o<d;++o)i.push([n[o],-1]);return i},rasterize:function(t){return Math.round(t*dt)/dt}};function st(s,t){var a=t.x,n=t.y;if(null===a)return{x:0,y:-1};if(null===n)return{x:1,y:0};var i=s.x-a,o=s.y-n,u=Math.sqrt(i*i+o*o);return{x:u?i/u:0,y:u?o/u:-1}}function j(s,t,a){var n=0;return s<a.left?n|=1:s>a.right&&(n|=2),t<a.top?n|=8:t>a.bottom&&(n|=4),n}function V(s,t){var i,o,a=t.anchor,n=s;return t.clamp&&(n=function(s,t){for(var v,C,S,a=s.x0,n=s.y0,i=s.x1,o=s.y1,u=j(a,n,t),d=j(i,o,t);u|d&&!(u&d);)8&(v=u||d)?(C=a+(i-a)*(t.top-n)/(o-n),S=t.top):4&v?(C=a+(i-a)*(t.bottom-n)/(o-n),S=t.bottom):2&v?(S=n+(o-n)*(t.right-a)/(i-a),C=t.right):1&v&&(S=n+(o-n)*(t.left-a)/(i-a),C=t.left),v===u?u=j(a=C,n=S,t):d=j(i=C,o=S,t);return{x0:a,x1:i,y0:n,y1:o}}(n,t.area)),"start"===a?(i=n.x0,o=n.y0):"end"===a?(i=n.x1,o=n.y1):(i=(n.x0+n.x1)/2,o=(n.y0+n.y1)/2),function(s,t,a,n,i){switch(i){case"center":a=n=0;break;case"bottom":a=0,n=1;break;case"right":a=1,n=0;break;case"left":a=-1,n=0;break;case"top":a=0,n=-1;break;case"start":a=-a,n=-n;break;case"end":break;default:i*=Math.PI/180,a=Math.cos(i),n=Math.sin(i)}return{x:s,y:t,vx:a,vy:n}}(i,o,s.vx,s.vy,t.align)}var tt={arc:function(t,a){var n=(t.startAngle+t.endAngle)/2,i=Math.cos(n),o=Math.sin(n),u=t.innerRadius,d=t.outerRadius;return V({x0:t.x+i*u,y0:t.y+o*u,x1:t.x+i*d,y1:t.y+o*d,vx:i,vy:o},a)},point:function(t,a){var n=st(t,a.origin),i=n.x*t.radius,o=n.y*t.radius;return V({x0:t.x-i,y0:t.y-o,x1:t.x+i,y1:t.y+o,vx:n.x,vy:n.y},a)},rect:function(t,a){var n=st(t,a.origin),i=t.x,o=t.y,u=0,d=0;return t.horizontal?(i=Math.min(t.x,t.base),u=Math.abs(t.base-t.x)):(o=Math.min(t.y,t.base),d=Math.abs(t.base-t.y)),V({x0:i,y0:o+d,x1:i+u,y1:o,vx:n.x,vy:n.y},a)},fallback:function(t,a){var n=st(t,a.origin);return V({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:n.x,vy:n.y},a)}},z=E.default.helpers,q=P.rasterize;function Nt(s){var t=s._model.horizontal,a=s._scale||t&&s._xScale||s._yScale;if(!a)return null;if(void 0!==a.xCenter&&void 0!==a.yCenter)return{x:a.xCenter,y:a.yCenter};var n=a.getBasePixel();return t?{x:n,y:null}:{x:null,y:n}}function Bt(s,t,a){var n=s.shadowBlur,i=a.stroked,o=q(a.x),u=q(a.y),d=q(a.w);i&&s.strokeText(t,o,u,d),a.filled&&(n&&i&&(s.shadowBlur=0),s.fillText(t,o,u,d),n&&i&&(s.shadowBlur=n))}var vt=function(t,a,n,i){var o=this;o._config=t,o._index=i,o._model=null,o._rects=null,o._ctx=a,o._el=n};z.extend(vt.prototype,{_modelize:function(t,a,n,i){var s,o=this,u=o._index,d=z.options.resolve,v=P.parseFont(d([n.font,{}],i,u)),C=d([n.color,E.default.defaults.global.defaultFontColor],i,u);return{align:d([n.align,"center"],i,u),anchor:d([n.anchor,"center"],i,u),area:i.chart.chartArea,backgroundColor:d([n.backgroundColor,null],i,u),borderColor:d([n.borderColor,null],i,u),borderRadius:d([n.borderRadius,0],i,u),borderWidth:d([n.borderWidth,0],i,u),clamp:d([n.clamp,!1],i,u),clip:d([n.clip,!1],i,u),color:C,display:t,font:v,lines:a,offset:d([n.offset,0],i,u),opacity:d([n.opacity,1],i,u),origin:Nt(o._el),padding:z.options.toPadding(d([n.padding,0],i,u)),positioner:(s=o._el,s instanceof E.default.elements.Arc?tt.arc:s instanceof E.default.elements.Point?tt.point:s instanceof E.default.elements.Rectangle?tt.rect:tt.fallback),rotation:d([n.rotation,0],i,u)*(Math.PI/180),size:P.textSize(o._ctx,a,v),textAlign:d([n.textAlign,"start"],i,u),textShadowBlur:d([n.textShadowBlur,0],i,u),textShadowColor:d([n.textShadowColor,C],i,u),textStrokeColor:d([n.textStrokeColor,C],i,u),textStrokeWidth:d([n.textStrokeWidth,0],i,u)}},update:function(t){var d,v,C,a=this,n=null,i=null,o=a._index,u=a._config,S=z.options.resolve([u.display,!0],t,o);S&&(v=z.valueOrDefault(z.callback(u.formatter,[d=t.dataset.data[o],t]),d),(C=z.isNullOrUndef(v)?[]:P.toTextLines(v)).length&&(i=function(s){var t=s.borderWidth||0,a=s.padding,n=s.size.height,i=s.size.width,o=-i/2,u=-n/2;return{frame:{x:o-a.left-t,y:u-a.top-t,w:i+a.width+2*t,h:n+a.height+2*t},text:{x:o,y:u,w:i,h:n}}}(n=a._modelize(S,C,u,t)))),a._model=n,a._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,a){var d,i=t.ctx,o=this._model,u=this._rects;!this.visible()||(i.save(),o.clip&&(d=o.area,i.beginPath(),i.rect(d.left,d.top,d.right-d.left,d.bottom-d.top),i.clip()),i.globalAlpha=P.bound(0,o.opacity,1),i.translate(q(a.x),q(a.y)),i.rotate(o.rotation),function(s,t,a){var n=a.backgroundColor,i=a.borderColor,o=a.borderWidth;!n&&(!i||!o)||(s.beginPath(),z.canvas.roundedRect(s,q(t.x)+o/2,q(t.y)+o/2,q(t.w)-o,q(t.h)-o,a.borderRadius),s.closePath(),n&&(s.fillStyle=n,s.fill()),i&&o&&(s.strokeStyle=i,s.lineWidth=o,s.lineJoin="miter",s.stroke()))}(i,u.frame,o),function(s,t,a,n){var k,i=n.textAlign,o=n.color,u=!!o,d=n.font,v=t.length,C=n.textStrokeColor,S=n.textStrokeWidth,D=C&&S;if(v&&(u||D))for(a=function(s,t,a){var n=a.lineHeight,i=s.w,o=s.x;return"center"===t?o+=i/2:("end"===t||"right"===t)&&(o+=i),{h:n,w:i,x:o,y:s.y+n/2}}(a,i,d),s.font=d.string,s.textAlign=i,s.textBaseline="middle",s.shadowBlur=n.textShadowBlur,s.shadowColor=n.textShadowColor,u&&(s.fillStyle=o),D&&(s.lineJoin="round",s.lineWidth=S,s.strokeStyle=C),k=0,v=t.length;k<v;++k)Bt(s,t[k],{stroked:D,filled:u,w:a.w,x:a.x,y:a.y+a.h*k})}(i,o.lines,u.text,o),i.restore())}});var $t=Number.MIN_SAFE_INTEGER||-9007199254740991,$=Number.MAX_SAFE_INTEGER||9007199254740991;function K(s,t,a){var n=Math.cos(a),i=Math.sin(a),o=t.x,u=t.y;return{x:o+n*(s.x-o)-i*(s.y-u),y:u+i*(s.x-o)+n*(s.y-u)}}function yt(s,t){var o,u,C,a=$,n=$t,i=t.origin;for(o=0;o<s.length;++o)C=t.vx*((u=s[o]).x-i.x)+t.vy*(u.y-i.y),a=Math.min(a,C),n=Math.max(n,C);return{min:a,max:n}}function et(s,t){var a=t.x-s.x,n=t.y-s.y,i=Math.sqrt(a*a+n*n);return{vx:(t.x-s.x)/i,vy:(t.y-s.y)/i,origin:s,ln:i}}var mt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function gt(s,t,a){var n=t.positioner(s,t),i=n.vx,o=n.vy;if(!i&&!o)return{x:n.x,y:n.y};var u=a.w,d=a.h,v=t.rotation,C=Math.abs(u/2*Math.cos(v))+Math.abs(d/2*Math.sin(v)),S=Math.abs(u/2*Math.sin(v))+Math.abs(d/2*Math.cos(v)),D=1/Math.max(Math.abs(i),Math.abs(o));return C*=i*D,S*=o*D,{x:n.x+(C+=t.offset*i),y:n.y+(S+=t.offset*o)}}E.default.helpers.extend(mt.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,a,n){this._rotation=n,this._rect={x:a.x+t.x,y:a.y+t.y,w:a.w,h:a.h}},contains:function(t){var a=this,i=a._rect;return!((t=K(t,a.center(),-a._rotation)).x<i.x-1||t.y<i.y-1||t.x>i.x+i.w+2||t.y>i.y+i.h+2)},intersects:function(t){var o,u,d,a=this._points(),n=t._points(),i=[et(a[0],a[1]),et(a[0],a[3])];for(this._rotation!==t._rotation&&i.push(et(n[0],n[1]),et(n[0],n[3])),o=0;o<i.length;++o)if(u=yt(a,i[o]),d=yt(n,i[o]),u.max<d.min||d.max<u.min)return!1;return!0},_points:function(){var t=this,a=t._rect,n=t._rotation,i=t.center();return[K({x:a.x,y:a.y},i,n),K({x:a.x+a.w,y:a.y},i,n),K({x:a.x+a.w,y:a.y+a.h},i,n),K({x:a.x,y:a.y+a.h},i,n)]}});var W={prepare:function(t){var n,i,o,u,d,a=[];for(n=0,o=t.length;n<o;++n)for(i=0,u=t[n].length;i<u;++i)a.push(d=t[n][i]),d.$layout={_box:new mt,_hidable:!1,_visible:!0,_set:n,_idx:i};return a.sort(function(v,C){var S=v.$layout,D=C.$layout;return S._idx===D._idx?D._set-S._set:D._idx-S._idx}),this.update(a),a},update:function(t){var n,i,o,u,d,a=!1;for(n=0,i=t.length;n<i;++n)u=(o=t[n]).model(),(d=o.$layout)._hidable=u&&"auto"===u.display,d._visible=o.visible(),a|=d._hidable;a&&function(s){var t,a,n,i,o,u;for(t=0,a=s.length;t<a;++t)(i=(n=s[t]).$layout)._visible&&(o=n.geometry(),u=gt(n._el._model,n.model(),o),i._box.update(u,o,n.rotation()));(function(s,t){var a,n,i,o;for(a=s.length-1;a>=0;--a)for(i=s[a].$layout,n=a-1;n>=0&&i._visible;--n)(o=s[n].$layout)._visible&&i._box.intersects(o._box)&&t(i,o)})(s,function(d,v){var C=d._hidable,S=v._hidable;C&&S||S?v._visible=!1:C&&(d._visible=!1)})}(t)},lookup:function(t,a){var n,i;for(n=t.length-1;n>=0;--n)if((i=t[n].$layout)&&i._visible&&i._box.contains(a))return t[n];return null},draw:function(t,a){var n,i,o,u,d,v;for(n=0,i=a.length;n<i;++n)(u=(o=a[n]).$layout)._visible&&(d=o.geometry(),v=gt(o._el._view,o.model(),d),u._box.update(v,d,o.rotation()),o.draw(t,v))}},R=E.default.helpers,J=E.default.helpers,I="$datalabels",ct="$default";function nt(s,t,a){if(t){var o,n=a.$context,i=a.$groups;!t[i._set]||(o=t[i._set][i._key])&&!0===J.callback(o,[n])&&(s[I]._dirty=!0,a.update(n))}}function G(s,t){var i,o,a=s[I],n=a._listeners;if(n.enter||n.leave){if("mousemove"===t.type)o=W.lookup(a._labels,t);else if("mouseout"!==t.type)return;i=a._hovered,a._hovered=o,function(s,t,a,n){var i,o;!a&&!n||(a?n?a!==n&&(o=i=!0):o=!0:i=!0,o&&nt(s,t.leave,a),i&&nt(s,t.enter,n))}(s,n,i,o)}}return E.default.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(t){if(R.isNullOrUndef(t))return null;var n,i,o,a=t;if(R.isObject(t))if(R.isNullOrUndef(t.label))if(R.isNullOrUndef(t.r))for(a="",o=0,i=(n=Object.keys(t)).length;o<i;++o)a+=(0!==o?", ":"")+n[o]+": "+t[n[o]];else a=t.r;else a=t.label;return""+a},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},{id:"datalabels",beforeInit:function(t){t[I]={_actives:[]}},beforeUpdate:function(t){var a=t[I];a._listened=!1,a._listeners={},a._datasets=[],a._labels=[]},afterDatasetUpdate:function(t,a,n){var k,rt,St,At,lt,Tt,r,l,i=a.index,o=t[I],u=o._datasets[i]=[],d=t.isDatasetVisible(i),v=t.data.datasets[i],C=function(s,t){var o,u,a=s.datalabels,n={},i=[];return!1===a?null:(!0===a&&(a={}),t=J.merge({},[t,a]),o=t.labels||{},u=Object.keys(o),delete t.labels,u.length?u.forEach(function(d){o[d]&&i.push(J.merge({},[t,o[d],{_key:d}]))}):i.push(t),n=i.reduce(function(d,v){return J.each(v.listeners||{},function(C,S){d[S]=d[S]||{},d[S][v._key||ct]=C}),delete v.listeners,d},{}),{labels:i,listeners:n})}(v,n),S=a.meta.data||[],D=t.ctx;for(D.save(),k=0,St=S.length;k<St;++k)if((r=S[k])[I]=[],d&&r&&!r.hidden&&!r._model.skip)for(rt=0,At=C.labels.length;rt<At;++rt)Tt=(lt=C.labels[rt])._key,(l=new vt(lt,D,r,k)).$groups={_set:i,_key:Tt||ct},l.$context={active:!1,chart:t,dataIndex:k,dataset:v,datasetIndex:i},l.update(l.$context),r[I].push(l),u.push(l);D.restore(),J.merge(o._listeners,C.listeners,{merger:function(p,x,A){x[p]=x[p]||{},x[p][a.index]=A[p],o._listened=!0}})},afterUpdate:function(t,a){t[I]._labels=W.prepare(t[I]._datasets,a)},afterDatasetsDraw:function(t){W.draw(t,t[I]._labels)},beforeEvent:function(t,a){if(t[I]._listened)switch(a.type){case"mousemove":case"mouseout":G(t,a);break;case"click":!function(s,t){var a=s[I],n=a._listeners.click,i=n&&W.lookup(a._labels,t);i&&nt(s,n,i)}(t,a)}},afterEvent:function(t){var u,d,v,C,S,D,k,a=t[I],n=a._actives,i=a._actives=t.lastActive||[],o=P.arrayDiff(n,i);for(u=0,d=o.length;u<d;++u)if((S=o[u])[1])for(v=0,C=(k=S[0][I]||[]).length;v<C;++v)(D=k[v]).$context.active=1===S[1],D.update(D.$context);(a._dirty||o.length)&&(W.update(a._labels),function(s){if(!s.animating){for(var t=E.default.animationService.animations,a=0,n=t.length;a<n;++a)if(t[a].chart===s)return;s.render({duration:1,lazy:!0})}}(t)),delete a._dirty}}}(w(72075))},21286:function(Ht,Et,w){"use strict";w.r(Et),w.d(Et,{ContactsModule:function(){return Tt}});var Y=w(61116),ot=w(84932),E=w(70992),e=w(60091),dt=function(){function r(){}return r.\u0275fac=function(c){return new(c||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contacts"]],decls:1,vars:0,template:function(c,p){1&c&&e._UZ(0,"router-outlet")},directives:[E.lC],encapsulation:2,changeDetection:0}),r}(),P=w(96054),st=w(51558),b=w(51671);function ft(){return{getInitialState:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},l)}}}function pt(){return{getSelectors:function(l){var c=function(U){return U.ids},p=function(U){return U.entities},x=(0,b.P1)(c,p,function(F,U){return F.map(function(X){return U[X]})}),A=(0,b.P1)(c,function(F){return F.length});return l?{selectIds:(0,b.P1)(l,c),selectEntities:(0,b.P1)(l,p),selectAll:(0,b.P1)(l,x),selectTotal:(0,b.P1)(l,A)}:{selectIds:c,selectEntities:p,selectAll:x,selectTotal:A}}}}var g=function(r){return r[r.EntitiesOnly=0]="EntitiesOnly",r[r.Both=1]="Both",r[r.None=2]="None",r}({});function Z(r){return function(c,p){var x={ids:(0,st.Z)(p.ids),entities:Object.assign({},p.entities)},A=r(c,x);return A===g.Both?Object.assign({},p,x):A===g.EntitiesOnly?Object.assign(Object.assign({},p),{entities:x.entities}):p}}function j(r,l){var c=l(r);return(0,e.X6Q)()&&void 0===c&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",r,"The `selectId` implementation:",l.toString()),c}function ht(r){function l(_,y){var T=j(_,r);return T in y.entities?g.None:(y.ids.push(T),y.entities[T]=_,g.Both)}function c(_,y){var f,T=!1,h=(0,P.Z)(_);try{for(h.s();!(f=h.n()).done;)T=l(f.value,y)!==g.None||T}catch(O){h.e(O)}finally{h.f()}return T?g.Both:g.None}function x(_,y){var T=j(_,r);return T in y.entities?(y.entities[T]=_,g.EntitiesOnly):(y.ids.push(T),y.entities[T]=_,g.Both)}function U(_,y){var h=(_ instanceof Array?_:y.ids.filter(function(f){return _(y.entities[f])})).filter(function(f){return f in y.entities}).map(function(f){return delete y.entities[f]}).length>0;return h&&(y.ids=y.ids.filter(function(f){return f in y.entities})),h?g.Both:g.None}function Mt(_,y){return Q([_],y)}function Q(_,y){var T={};return(_=_.filter(function(m){return m.id in y.entities})).length>0?_.filter(function(m){return function(_,y,T){var f=Object.assign({},T.entities[y.id],y.changes),m=j(f,r),O=m!==y.id;return O&&(_[y.id]=m,delete T.entities[y.id]),T.entities[m]=f,O}(T,m,y)}).length>0?(y.ids=y.ids.map(function(m){return T[m]||m}),g.Both):g.EntitiesOnly:g.None}function wt(_,y){var m,T=[],h=[],f=(0,P.Z)(_);try{for(f.s();!(m=f.n()).done;){var O=m.value,M=j(O,r);M in y.entities?h.push({id:M,changes:O}):T.push(O)}}catch(H){f.e(H)}finally{f.f()}var N=Q(h,y),B=c(T,y);switch(!0){case B===g.None&&N===g.None:return g.None;case B===g.Both||N===g.Both:return g.Both;default:return g.EntitiesOnly}}return{removeAll:function(_){return Object.assign({},_,{ids:[],entities:{}})},addOne:Z(l),addMany:Z(c),setAll:Z(function(_,y){return y.ids=[],y.entities={},c(_,y),g.Both}),setOne:Z(x),setMany:Z(function(_,y){var T=_.map(function(h){return x(h,y)});switch(!0){case T.some(function(h){return h===g.Both}):return g.Both;case T.some(function(h){return h===g.EntitiesOnly}):return g.EntitiesOnly;default:return g.None}}),updateOne:Z(Mt),updateMany:Z(Q),upsertOne:Z(function(_,y){return wt([_],y)}),upsertMany:Z(wt),removeOne:Z(function(_,y){return U([_],y)}),removeMany:Z(U),map:Z(function(_,y){return Q(y.ids.reduce(function(f,m){var O=_(y.entities[m]);return O!==y.entities[m]&&f.push({id:m,changes:O}),f},[]).filter(function(f){return f.id in y.entities}),y)}),mapOne:Z(function(_,y){var h=_.id,f=y.entities[h];return f?Mt({id:h,changes:(0,_.map)(f)},y):g.None})}}function V(r,l){var c=ht(r);function F(h,f){return U([h],f)}function U(h,f){var m=h.filter(function(O){return!(j(O,r)in f.entities)});return 0===m.length?g.None:(T(m,f),g.Both)}function Zt(h,f){var m=j(h,r);return m in f.entities?(f.ids=f.ids.filter(function(O){return O!==m}),T([h],f),g.Both):F(h,f)}function Q(h,f){return it([h],f)}function it(h,f){var m=[],O=h.filter(function(B){return function(h,f,m){if(!(f.id in m.entities))return!1;var M=Object.assign({},m.entities[f.id],f.changes),N=j(M,r);return delete m.entities[f.id],h.push(M),N!==f.id}(m,B,f)}).length>0;if(0===m.length)return g.None;var M=f.ids,N=[];return f.ids=f.ids.filter(function(B,H){return B in f.entities||(N.push(H),!1)}),T(m,f),!O&&N.every(function(B){return f.ids[B]===M[B]})?g.EntitiesOnly:g.Both}function y(h,f){var N,m=[],O=[],M=(0,P.Z)(h);try{for(M.s();!(N=M.n()).done;){var B=N.value,H=j(B,r);H in f.entities?O.push({id:H,changes:B}):m.push(B)}}catch(Jt){M.e(Jt)}finally{M.f()}var Ft=it(O,f),ut=U(m,f);switch(!0){case ut===g.None&&Ft===g.None:return g.None;case ut===g.Both||Ft===g.Both:return g.Both;default:return g.EntitiesOnly}}function T(h,f){h.sort(l);for(var m=[],O=0,M=0;O<h.length&&M<f.ids.length;){var N=h[O],B=j(N,r),H=f.ids[M];l(N,f.entities[H])<=0?(m.push(B),O++):(m.push(H),M++)}f.ids=m.concat(O<h.length?h.slice(O).map(r):f.ids.slice(M)),h.forEach(function(ut,Jt){f.entities[r(ut)]=ut})}return{removeOne:c.removeOne,removeMany:c.removeMany,removeAll:c.removeAll,addOne:Z(F),updateOne:Z(Q),upsertOne:Z(function(h,f){return y([h],f)}),setAll:Z(function(h,f){return f.entities={},f.ids=[],U(h,f),g.Both}),setOne:Z(Zt),setMany:Z(function(h,f){var m=h.map(function(O){return Zt(O,f)});switch(!0){case m.some(function(O){return O===g.Both}):return g.Both;case m.some(function(O){return O===g.EntitiesOnly}):return g.EntitiesOnly;default:return g.None}}),addMany:Z(U),updateMany:Z(it),upsertMany:Z(y),map:Z(function(h,f){return it(f.ids.reduce(function(O,M){var N=h(f.entities[M]);return N!==f.entities[M]&&O.push({id:M,changes:N}),O},[]),f)}),mapOne:Z(function(h,f){var O=h.id,M=f.entities[O];return M?Q({id:O,changes:(0,h.map)(M)},f):g.None})}}(0,b.PH)("[Contacts] Load SpreadSheet");var kt=(0,b.PH)("[Contacts] Load",(0,b.Ky)()),Nt=(0,b.PH)("[Contacts] Create",(0,b.Ky)()),It=(0,b.PH)("[Contacts] Update",(0,b.Ky)()),Ut=(0,b.PH)("[Contacts] Remove",(0,b.Ky)()),Bt=((0,b.PH)("[Contacts] Load all success",(0,b.Ky)()),(0,b.PH)("[Contacts] Load success",(0,b.Ky)())),jt=(0,b.PH)("[Contacts] Create success",(0,b.Ky)()),vt=(0,b.PH)("[Contacts] Update success",(0,b.Ky)()),Pt=(0,b.PH)("[Contacts] Remove success",(0,b.Ky)()),$=((0,b.PH)("[Contacts] Failure",(0,b.Ky)()),function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=Object.assign({sortComparer:!1,selectId:function(X){return X.id}},r),c=l.selectId,p=l.sortComparer,x=ft(),A=pt(),F=p?V(c,p):ht(c);return Object.assign(Object.assign(Object.assign({selectId:c,sortComparer:p},x),A),F)}({selectId:function(r){return r.id},sortComparer:!1})),K=$.getInitialState({}),yt=(0,b.Lq)(K,(0,b.on)(Bt,function(r,l){return $.upsertOne(l.contact,r)}),(0,b.on)(jt,function(r,l){return $.addOne(l.contact,r)}),(0,b.on)(vt,function(r,l){var c=l.contact;return $.updateOne({id:c.id,changes:c},r)}),(0,b.on)(Pt,function(r,l){return $.removeOne(l.id,r)}));function mt(r,l){return(0,b.UY)({contacts:yt})(r,l)}var gt=(0,b.ZF)("contacts"),bt=(0,b.P1)(gt,function(r){return r.contacts}),Lt=$.getSelectors(bt).selectAll,R=function(){function r(l){this.store=l,this.contacts$=this.store.pipe((0,b.Ys)(Lt))}return r.prototype.loadContact=function(l){this.store.dispatch(kt({id:l}))},r.prototype.createContact=function(l){this.store.dispatch(Nt({contact:l}))},r.prototype.updateContact=function(l){this.store.dispatch(It({contact:l}))},r.prototype.deleteContact=function(l){this.store.dispatch(Ut({id:l}))},r.prototype.getContactById=function(l){return this.store.pipe((0,b.Ys)(function(r){return(0,b.P1)(bt,function(r){return function(l){return l.entities[r]}}(r))}(l)))},r.\u0275fac=function(c){return new(c||r)(e.LFG(b.yh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r}(),Ct=w(64762),L=w(31041),J=function(){function r(l){this.formBuilder=l,this.contact={id:void 0,name:"",email:"",phone:""},this.save=new e.vpe,this.form=this.formBuilder.group({id:[this.contact.id],name:[this.contact.name,L.kI.required],email:[this.contact.email,L.kI.required],phone:[this.contact.phone]})}return r.prototype.ngOnInit=function(){},r.prototype.ngOnChanges=function(){this.contact&&this.form.patchValue((0,Ct.pi)({},this.contact))},r.prototype.submit=function(){this.form.valid&&this.save.emit(this.form.value)},r.\u0275fac=function(c){return new(c||r)(e.Y36(L.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contact-form"]],inputs:{contact:"contact"},outputs:{save:"save"},features:[e.TTD],decls:16,vars:2,consts:[[1,"form",3,"formGroup","submit"],[1,"form-group"],["for","name-input"],["id","name-input","type","text","formControlName","name",1,"form-control"],["for","email-input"],["id","email-input","type","email","formControlName","email",1,"form-control"],["for","phone-input"],["id","phone-input","type","tel","formControlName","phone",1,"form-control"],["type","submit",1,"btn","btn-success","float-right",3,"disabled"]],template:function(c,p){1&c&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return p.submit()}),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e._uU(3,"Name:"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1),e.TgZ(6,"label",4),e._uU(7,"Email:"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1),e.TgZ(10,"label",6),e._uU(11,"Phone:"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"button",8),e._uU(15," Submit "),e.qZA(),e.qZA(),e.qZA()),2&c&&(e.Q6J("formGroup",p.form),e.xp6(14),e.Q6J("disabled",!p.form.valid))},directives:[L._Y,L.JL,L.sg,L.Fj,L.JJ,L.u],styles:[".form[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),I=function(){function r(l,c){this.contactsFacade=l,this.router=c}return r.prototype.ngOnInit=function(){},r.prototype.ngOnDestroy=function(){},r.prototype.submitted=function(l){this.contactsFacade.createContact(l),this.router.navigate(["/contacts"])},r.\u0275fac=function(c){return new(c||r)(e.Y36(R),e.Y36(E.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contact-new"]],decls:5,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"save"]],template:function(c,p){1&c&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2," New Contact "),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"app-contact-form",3),e.NdJ("save",function(A){return p.submitted(A)}),e.qZA(),e.qZA(),e.qZA())},directives:[J],styles:[""],changeDetection:0}),r}(),ct=w(79996),xt=w(44689),nt=w(23395),at=w(42693),G=w(529),_t=function(){function r(l){this.http=l}return r.prototype.getSpreadsheet=function(){var l=new at.LE;return l=l.append("ranges","Data!A2:A50"),this.http.get(G.N.appApi.baseUrl+G.N.spreadsheetId+"/values:batchGet",{params:l})},r.\u0275fac=function(c){return new(c||r)(e.LFG(at.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r}(),Ot=function(r){function l(){return r.call(this,{url:G.N.socketConfig.url+"/contacts",options:G.N.socketConfig.opts})||this}return(0,Ct.ZT)(l,r),l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac=function(p){return new(p||l)}}),l}(w(36212).sk),s=function(){function r(l,c,p){this.actions$=l,this.contactsService=c,this.contactsSocket=p}return r.\u0275fac=function(c){return new(c||r)(e.LFG(nt.eX),e.LFG(_t),e.LFG(Ot))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r}();function t(r,l){if(1&r){var c=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._uU(3," Contact "),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"p"),e._uU(6,"Name: "),e.TgZ(7,"span",5),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Email: "),e.TgZ(11,"span",5),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"p"),e._uU(14,"Phone: "),e.TgZ(15,"span",5),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"span",7),e.TgZ(19,"button",8),e.NdJ("click",function(){e.CHM(c);var A=e.oxw();return A.edit.emit(A.contact)}),e._uU(20," EDIT"),e.qZA(),e.TgZ(21,"button",9),e.NdJ("click",function(){e.CHM(c);var A=e.oxw();return A.remove.emit(A.contact)}),e._uU(22," DELETE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var p=e.oxw();e.xp6(8),e.Oqu(p.contact.name),e.xp6(4),e.Oqu(p.contact.email),e.xp6(4),e.Oqu(p.contact.phone)}}var a=function(){function r(){this.edit=new e.vpe,this.remove=new e.vpe}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(c){return new(c||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contact-details-container"]],inputs:{contact:"contact"},outputs:{edit:"edit",remove:"remove"},decls:1,vars:1,consts:[["class","contact-details-container",4,"ngIf"],[1,"contact-details-container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"badge","badge-primary"],[1,"card-footer","text-muted"],[1,"float-md-right"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(c,p){1&c&&e.YNc(0,t,23,3,"div",0),2&c&&e.Q6J("ngIf",p.contact)},directives:[Y.O5],styles:[".contact-details-container[_ngcontent-%COMP%]{-webkit-animation:fadeIn .6s;animation:fadeIn .6s}"],changeDetection:0}),r}(),n=function(){function r(l,c,p,x){var A=this;this.activatedRoute=l,this.router=c,this.contactsFacade=p,this.contactsEffects=x,this.contact$=this.activatedRoute.params.pipe((0,ct.U)(function(F){return F.contactId}),(0,xt.w)(function(F){return A.contactsFacade.getContactById(F)}))}return r.prototype.ngOnInit=function(){var l=this;this.activatedRoute.params.subscribe(function(c){l.contactsFacade.loadContact(+c.contactId)})},r.prototype.editContact=function(l){this.router.navigate(["/contacts",l.id,"edit"])},r.prototype.deleteContact=function(l){confirm("Are you sure?")&&this.contactsFacade.deleteContact(l.id)},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.\u0275fac=function(c){return new(c||r)(e.Y36(E.gz),e.Y36(E.F0),e.Y36(R),e.Y36(s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contact-details"]],decls:2,vars:3,consts:[[3,"contact","edit","remove"]],template:function(c,p){1&c&&(e.TgZ(0,"app-contact-details-container",0),e.NdJ("edit",function(A){return p.editContact(A)})("remove",function(A){return p.deleteContact(A)}),e.ALo(1,"async"),e.qZA()),2&c&&e.Q6J("contact",e.lcZ(1,1,p.contact$))},directives:[a],pipes:[Y.Ov],styles:[""],changeDetection:0}),r}(),i=function(){function r(l,c,p,x){var A=this;this.activatedRoute=l,this.router=c,this.contactsFacade=p,this.contactsEffects=x,this.contact$=this.activatedRoute.params.pipe((0,ct.U)(function(F){return F.contactId}),(0,xt.w)(function(F){return A.contactsFacade.getContactById(F)}))}return r.prototype.ngOnInit=function(){var l=this;this.activatedRoute.params.subscribe(function(c){l.contactsFacade.loadContact(+c.contactId)})},r.prototype.ngOnDestroy=function(){this.redirectSub.unsubscribe()},r.prototype.submitted=function(l){this.contactsFacade.updateContact(l)},r.\u0275fac=function(c){return new(c||r)(e.Y36(E.gz),e.Y36(E.F0),e.Y36(R),e.Y36(s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contact-edit"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"contact","save"]],template:function(c,p){1&c&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2," Edit Contact "),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"app-contact-form",3),e.NdJ("save",function(A){return p.submitted(A)}),e.ALo(5,"async"),e.qZA(),e.qZA(),e.qZA()),2&c&&(e.xp6(4),e.Q6J("contact",e.lcZ(5,1,p.contact$)))},directives:[J],pipes:[Y.Ov],styles:[""],changeDetection:0}),r}(),o=w(40878),u=w(10534),d=function(){function r(l){this.store=l}return r.prototype.resolve=function(l,c){return this.store.dispatch((0,u.u)({payload:l.data.title})),(0,o.of)(l.data.title)},r.\u0275fac=function(c){return new(c||r)(e.LFG(b.yh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),v=w(77125),C=function(){function r(l){this.http=l}return r.prototype.getSpreadsheet=function(l){var c=new at.LE;return l.forEach(function(p){c=c.append("ranges",p)}),this.http.get(G.N.appApi.baseUrl+G.N.spreadsheetId+"/values:batchGet",{params:c})},r.\u0275fac=function(c){return new(c||r)(e.LFG(at.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r}(),S=w(50111);function D(r,l){if(1&r&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"h6",3),e._uU(3,"Year Spending :"),e.qZA(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"div"),e.TgZ(8,"div",5),e._UZ(9,"canvas",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){var c=e.oxw();e.xp6(5),e.Oqu(c.spreadSheetDataObj.totalCost),e.xp6(4),e.Q6J("datasets",c.barChartData)("labels",c.barChartLabels)("options",c.barChartOptions)("plugins",c.barChartPlugins)("legend",c.barChartLegend)("chartType",c.barChartType)}}function k(r,l){if(1&r&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"h6",3),e._uU(3,"Current Month Spending :"),e.qZA(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"div"),e.TgZ(8,"div",5),e._UZ(9,"canvas",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){var c=e.oxw();e.xp6(5),e.Oqu(c.spreadSheetDataObj.currentMonthTotalSpending),e.xp6(4),e.Q6J("data",c.polarAreaChartData)("labels",c.polarAreaChartLabels)("legend",c.polarAreaLegend)("chartType",c.polarAreaChartType)}}function rt(r,l){if(1&r&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"h6",3),e._uU(3,"Utility Spending :"),e.qZA(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"div",8),e._UZ(8,"canvas",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){var c=e.oxw();e.xp6(5),e.Oqu(c.spreadSheetDataObj.totalUtilityCost),e.xp6(3),e.Q6J("data",c.pieChartData)("labels",c.pieChartLabels)("chartType",c.pieChartType)("options",c.pieChartOptions)("plugins",c.pieChartPlugins)("colors",c.pieChartColors)("legend",c.pieChartLegend)}}var At=[{path:"",component:dt,children:[{path:"",component:function(){function r(l,c,p,x){this.contactsFacade=l,this.router=c,this.spreadSheetService=p,this.changeDetection=x,this.barChartOptions={responsive:!0,scales:{xAxes:[{}],yAxes:[{}]},plugins:{datalabels:{anchor:"end",align:"end"}}},this.barChartLabels=["2006","2007","2008","2009","2010","2011","2012"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[v],this.barChartData=[{data:[65,59,80,81,56,55,40],label:"Series A"},{data:[28,48,40,19,86,27,90],label:"Series B"}],this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.doughnutChartData=[[350,450,100],[50,150,120],[250,130,70]],this.doughnutChartType="doughnut",this.contacts$=this.contactsFacade.contacts$,this.spreadSheetDataObj={},this.polarAreaChartLabels=[],this.polarAreaChartData=[],this.polarAreaLegend=!0,this.polarAreaChartType="polarArea",this.pieChartOptions={responsive:!0,legend:{position:"top"},plugins:{datalabels:{formatter:function(A,F){return F.chart.data.labels[F.dataIndex]}}}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[v],this.pieChartColors=[{backgroundColor:["rgba(255,161,181,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}]}return r.prototype.ngOnInit=function(){var l=this;this.spreadSheetService.getSpreadsheet(["Current!H1","Current!A2:E","Utility!A2:F","Utility!H2:H2","Expenses!F2:F2"]).subscribe(function(c){l.spreadSheetDataObj.currentMonthTotalSpending=c.valueRanges[0].values[0][0],l.spreadSheetDataObj.currentMonthSpendingList=c.valueRanges[1].values,l.spreadSheetDataObj.totalUtilityList=c.valueRanges[2].values,l.spreadSheetDataObj.totalUtilityCost=c.valueRanges[3].values[0][0],l.spreadSheetDataObj.totalCost=c.valueRanges[4].values[0][0],l.buildPolarChartData(l.spreadSheetDataObj.currentMonthSpendingList),l.buildPieChartData(l.spreadSheetDataObj.totalUtilityList)})},r.prototype.buildPolarChartData=function(l){var c={};l.forEach(function(p){var x=p[3],A=parseFloat(p[4].replace("\u20b9","").replace(/,/g,""));c[x]=c[x]?c[x]+A:A}),this.polarAreaChartLabels=Object.keys(c),this.polarAreaChartData=Object.values(c),this.changeDetection.detectChanges()},r.prototype.buildPieChartData=function(l){var c={};l.forEach(function(p){var x=p[3],A=parseFloat(p[4].replace("\u20b9","").replace(/,/g,""));c[x]=c[x]?c[x]+A:A}),this.pieChartLabels=Object.keys(c),this.pieChartData=Object.values(c),this.changeDetection.detectChanges()},r.prototype.editContact=function(l){this.router.navigate(["/contacts",l.id,"edit"])},r.prototype.showContact=function(l){this.router.navigate(["/contacts",l.id])},r.prototype.deleteContact=function(l){confirm("Are you sure?")&&this.contactsFacade.deleteContact(l.id)},r.\u0275fac=function(c){return new(c||r)(e.Y36(R),e.Y36(E.F0),e.Y36(C),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","card text-center",4,"ngIf"],[1,"card","text-center"],[1,"card-body"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-title"],[2,"display","block"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["baseChart","",3,"data","labels","legend","chartType"],[1,"chart"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"]],template:function(c,p){1&c&&(e.YNc(0,D,10,7,"div",0),e.YNc(1,k,10,5,"div",0),e.YNc(2,rt,9,8,"div",0)),2&c&&(e.Q6J("ngIf",p.spreadSheetDataObj.totalCost),e.xp6(1),e.Q6J("ngIf",p.spreadSheetDataObj.currentMonthTotalSpending),e.xp6(1),e.Q6J("ngIf",p.spreadSheetDataObj.totalUtilityCost))},directives:[Y.O5,S.jh],styles:[".card-title[_ngcontent-%COMP%]{margin:.5em 0;font-size:200%;color:#119fd6}.card-subtitle[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{text-align:left;text-align:initial;font-size:.875rem;font-weight:400;letter-spacing:.04em;line-height:1.25rem;color:#7a7a7a}.card[_ngcontent-%COMP%]{margin-bottom:30px}.example-button-container[_ngcontent-%COMP%]{right:30px;bottom:30px;position:absolute}"]}),r}(),data:{title:"Home"},resolve:{title:d}},{path:"new",component:I,data:{title:"New contact"},resolve:{title:d}},{path:":contactId",component:n,data:{title:"Contact details"},resolve:{title:d}},{path:":contactId/edit",component:i,data:{title:"Edit contact"},resolve:{title:d}}]}],lt=function(){function r(){}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[E.Bz.forChild(At)],E.Bz]}),r}(),Tt=function(){function r(){}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[_t,Ot,R,C],imports:[[Y.ez,ot.m,lt,b.Aw.forFeature("contacts",mt),nt.sQ.forFeature([s]),S.m9]]}),r}()}}]);